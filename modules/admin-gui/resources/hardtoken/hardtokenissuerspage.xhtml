<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:component="http://java.sun.com/jsf/composite/component"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:t="http://myfaces.apache.org/tomahawk">
<ui:remove>
  <!--
  /*************************************************************************
  *                                                                       *
  *  EJBCA: The OpenSource Certificate Authority                          *
  *                                                                       *
  *  This software is free software; you can redistribute it and/or       *
  *  modify it under the terms of the GNU Lesser General Public           *
  *  License as published by the Free Software Foundation; either         *
  *  version 2.1 of the License, or any later version.                    *
  *                                                                       *
  *  See terms of license at gnu.org.                                     *
  *                                                                       *
  *************************************************************************/

  $Id: hardtokenissuerspage.xhtml 29889 2018-09-20 09:00:55Z jekaterina $
  -->
</ui:remove>
<f:metadata>
  <f:event type="preRenderView" listener="#{hardTokenIssuerMBean.initialize}"/>
</f:metadata>
<ui:composition template="/WEB-INF/include/template.xhtml">
  <ui:define name="content">
    <h1><h:outputText value="#{web.text.MANAGEHARDTOKENISSUERS}"/></h1>
    <h:form>
      <h:panelGrid rendered="#{!hardTokenIssuerMBean.deleteInProgress}">
        <h:panelGrid styleClass="list" columns="2" columnClasses="listColumn1,listColumn2">
          <h:panelGroup>
            <h3><h:outputText value="#{web.text.LISTOFHARDTOKENISSUERS}"/></h3>
          </h:panelGroup>
          <h:panelGroup></h:panelGroup>

          <h:panelGroup>
            <h:selectOneListbox styleClass="select-list" name="selectissuer"
                                value="#{hardTokenIssuerMBean.selectedHardTokenIssuer}" style="width: 50em"
                                size="12">
              <f:selectItems value="#{hardTokenIssuerMBean.hardTokenIssuerSeleсtItemList}"/>
            </h:selectOneListbox>
          </h:panelGroup>
          <h:panelGroup></h:panelGroup>

          <h:panelGroup>
            <table width="100%" border="0" cellspacing="0" cellpadding="0">
              <tr>
                <td align="left">
                  <h:commandButton name="buttoneditissuer"
                                   action="#{hardTokenIssuerMBean.actionEdit}"
                                   value="#{web.text.EDITHARDTOKENISSUER}"/>
                </td>
                <td align="center">
                  &nbsp;
                </td>
                <td align="right">
                  <h:commandButton name="buttondeleteissuer"
                                   action="#{hardTokenIssuerMBean.actionDelete}"
                                   value="#{web.text.DELETEISSUER}"/>
                </td>
              </tr>
            </table>
          </h:panelGroup>
          <h:panelGroup></h:panelGroup>

        </h:panelGrid>

        <h:panelGrid styleClass="actions margin-top" width="100%" columns="2">
          <h:panelGroup> </h:panelGroup>
          <h:panelGroup>
            <h3><h:outputText value="#{web.text.ADDISSUER}"/></h3>
          </h:panelGroup>
          <h:panelGroup> <h:outputLabel for="textfieldalias" value="#{web.text.ALIAS}"/></h:panelGroup>
          <h:panelGroup><h:inputText id="textfieldalias" name="textfieldalias"
                                     value="#{hardTokenIssuerMBean.newHardTokenIssuer}" size="40"
                                     title="#{web.text.FORMAT_ID_STR}"/>
          </h:panelGroup>
          <h:panelGroup><h:outputLabel for="selectrole" value="#{web.text.ROLE}"/></h:panelGroup>
          <h:panelGroup><h:selectOneMenu id="selectrole" name="selectrole"
                                         value="#{hardTokenIssuerMBean.newRoleId}">
            <f:selectItems value="#{hardTokenIssuerMBean.hardTokenIssuingRoles}"/>
          </h:selectOneMenu>
          </h:panelGroup>
          <h:panelGroup> </h:panelGroup>
          <h:panelGroup>
            <h:commandButton id="buttonaddissuer" name="buttonaddissuer"
                             action="#{hardTokenIssuerMBean.addHardTokenIssuer}" value="#{web.text.ADDISSUER}"/>&nbsp;&nbsp;
            <h:commandButton id="buttonrenameissuer" name="buttonrenameissuer"
                             action="#{hardTokenIssuerMBean.renameHardTokenIssuer}"
                             value="#{web.text.RENAME_SELECTED}"/>&nbsp;&nbsp;&nbsp;
            <h:commandButton id="buttoncloneissuer" name="buttoncloneissuer"
                             action="#{hardTokenIssuerMBean.cloneHardTokenIssuer}"
                             value="#{web.text.CLONE_SELECTED}"/>
          </h:panelGroup>
        </h:panelGrid>
      </h:panelGrid>

      <h:panelGroup rendered="#{hardTokenIssuerMBean.deleteInProgress}">
        <h3><h:outputText value="#{web.text.DELETEUSERDATASOURCE}"/></h3>
        <h:panelGrid columns="2">
          <h:outputLabel for="deleteValidatorName" value="#{web.text.VALIDATORNAME}:"/>
          <h:outputText id="deleteValidatorName" value="#{hardTokenIssuerMBean.selectedHardTokenIssuer}"/>
          <h:panelGroup/>
          <h:panelGroup>
            <h:commandButton value="#{web.text.DELETE_CONFIRM}"
                             action="#{hardTokenIssuerMBean.deleteHardTokenIssuer}"/>
            <h:commandButton value="#{web.text.CANCEL}" action="#{hardTokenIssuerMBean.actionCancel}"/>
          </h:panelGroup>
        </h:panelGrid>
      </h:panelGroup>
    </h:form>
  </ui:define>
</ui:composition>
</html>