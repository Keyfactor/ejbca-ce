<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<ui:remove>
	<!--
    /*************************************************************************
     *                                                                       *
     *  EJBCA: The OpenSource Certificate Authority                          *
     *                                                                       *
     *  This software is free software; you can redistribute it and/or       *
     *  modify it under the terms of the GNU Lesser General Public           *
     *  License as published by the Free Software Foundation; either         *
     *  version 2.1 of the License, or any later version.                    *
     *                                                                       *
     *  See terms of license at gnu.org.                                     *
     *                                                                       *
     *************************************************************************/
     
     $Id$
     -->
</ui:remove>

<f:metadata> 
    <f:event type="preRenderView" listener="#{myPreferencesMBean.initialize}"/> 
</f:metadata> 

<ui:composition template="/WEB-INF/include/template.xhtml">
	<ui:define name="content">
		<h:panelGroup>
			<h1>
			    <h:outputText value="#{web.text.ADMINISTRATORPREFERENCES}" />
			</h1>
			<h2>
                <h:outputText value="#{web.text.FORADMIN} #{ejbcawebbean.getUsersCommonName()}" />
			</h2>
		</h:panelGroup>
		<h:form id="defaultmypreferences">
		
            <h:panelGrid id="config" width="100%" styleClass="action" columns="2" border="0" cellspacing="3" cellpadding="3" rowClasses="Row0,Row1" columnClasses="myPreferencesColumn, myPreferencesColumn">
                <h:panelGroup>
                    &nbsp;
                </h:panelGroup>
                <h:panelGroup>
                    &nbsp;
                </h:panelGroup>
                
                <h:panelGroup>
                    <h3><h:outputLabel value="#{web.text.PREFEREDLANGUAGE}"/></h3>
                    <h:outputLabel styleClass="help" value="#{web.text.PREFEREDLANGUAGE_HELP}"/>
                </h:panelGroup>    
                <h:panelGroup>
                    <h:selectOneMenu id="preferredLanguage" value="#{myPreferencesMBean.adminPreference.preferedLanguage}" converter="javax.faces.Integer">
	                    <f:selectItems value="#{myPreferencesMBean.availableLanguages}"/>
	                </h:selectOneMenu>
                </h:panelGroup>
                
                <h:panelGroup>
                    <h3><h:outputLabel value="#{web.text.SECONDARYLANGUAGE}"/></h3>
                    <h:outputLabel styleClass="help" value="#{web.text.SECONDARYLANGUAGE_HELP}"/>
                </h:panelGroup>
                <h:panelGroup>
                    <h:selectOneMenu id="secondaryLanguage" value="#{myPreferencesMBean.adminPreference.secondaryLanguage}" converter="javax.faces.Integer">
                        <f:selectItems value="#{myPreferencesMBean.availableLanguages}"/>
                    </h:selectOneMenu>
                </h:panelGroup>
                
                <h:panelGroup>
                    <h3><h:outputLabel value="#{web.text.THEME}"/></h3>
                    <h:outputLabel styleClass="help" value="#{web.text.THEME_HELP}"/>
                </h:panelGroup>
                <h:panelGroup>
                    <h:selectOneMenu id="theme" value="#{myPreferencesMBean.adminPreference.theme}">
                        <f:selectItems value="#{myPreferencesMBean.availableThemes}"/>
                    </h:selectOneMenu>
                </h:panelGroup>
                 
                <h:panelGroup>
                    <h3><h:outputLabel value="#{web.text.NUMBEROFRECORDSPERPAGE}"/></h3>
                    <h:outputLabel styleClass="help" value="#{web.text.NUMBEROFRECORDSPERPAGE_HELP}"/>
                </h:panelGroup>
                <h:panelGroup>
                    <h:selectOneMenu id="entriesPerPage" value="#{myPreferencesMBean.adminPreference.entriesPerPage}">
                        <f:selectItems value="#{myPreferencesMBean.possibleEntriesPerPage}"/>
                    </h:selectOneMenu>
                </h:panelGroup>
                
                <h:panelGroup>
                    <h3><h:outputLabel value="#{web.text.CASTATUSONHOMEPAGE}"/></h3>
                    <h:outputLabel styleClass="help" value="#{web.text.CASTATUSONHOMEPAGE_HELP}"/>
                </h:panelGroup>
                <h:panelGroup>
                    <h:selectBooleanCheckbox id="frontpageCaStatus" value="#{myPreferencesMBean.adminPreference.frontpageCaStatus}"/>
                    <h:outputLabel value="#{web.text.SHOW}"/>
                </h:panelGroup>
                
                <h:panelGroup>
                    <h3><h:outputLabel value="#{web.text.PUBLISHERQUEUESTATUSON}"/></h3>
                    <h:outputLabel styleClass="help" value="#{web.text.PUBLISHERQUEUESTATUSON_HELP}"/>
                </h:panelGroup>
                <h:panelGroup>
                    <h:selectBooleanCheckbox id="frontpagePublisherQueueStatus" value="#{myPreferencesMBean.adminPreference.frontpagePublisherQueueStatus}"/>
                    <h:outputLabel value="#{web.text.SHOW}"/>
                </h:panelGroup>
                
                <h:panelGroup rendered="#{issueCheckerSettings.issueCheckerEnabled}">
                    <h3><h:outputLabel value="#{web.text.CONFIGURATION_CHECKER_ON_FRONT_PAGE}"/></h3>
                    <h:outputLabel styleClass="help" value="#{web.text.CONFIGURATION_CHECKER_ON_FRONT_PAGE_HELP}"/>
                </h:panelGroup>
                <h:panelGroup rendered="#{issueCheckerSettings.issueCheckerEnabled}">
                    <h:selectBooleanCheckbox id="issueCheckerOnFrontPage" value="#{myPreferencesMBean.adminPreference.issueCheckerOnFrontPage}"/>
                    <h:outputLabel value="#{web.text.SHOW}"/>
                </h:panelGroup>
                                
                <h:panelGroup>&nbsp;</h:panelGroup>
                <h:panelGroup>
                    <h:commandButton value="#{web.text.SAVE}" action="#{myPreferencesMBean.save}"/>
                    <h:commandButton value="#{web.text.CANCEL}" action="#{myPreferencesMBean.cancel}" immediate="true"/>
                </h:panelGroup>
            </h:panelGrid>
		</h:form>
		
	</ui:define>
</ui:composition>
</html>
