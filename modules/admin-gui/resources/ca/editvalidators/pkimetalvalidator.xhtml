<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
	<ui:remove>
		<!--
	    /*************************************************************************
	     *                                                                       *
	     *  EJBCA: The OpenSource Certificate Authority                          *
	     *                                                                       *
	     *  This software is free software; you can redistribute it and/or       *
	     *  modify it under the terms of the GNU Lesser General Public           *
	     *  License as published by the Free Software Foundation; either         *
	     *  version 2.1 of the License, or any later version.                    *
	     *                                                                       *
	     *  See terms of license at gnu.org.                                     *
	     *                                                                       *
	     *************************************************************************/
	     
	     $Id$
	     -->
	</ui:remove>
	
	
	<body>
		<ui:composition>
		  <h:panelGrid columns="2" styleClass="edit-top" cellspacing="3" cellpadding="3" border="0" width="100%" rowClasses="Row0,Row1" columnClasses="editColumn1,editColumn2">  
            <h:panelGroup>
                  <h:outputLabel for="settings" value="#{web.text.PKIMETAL_VALIDATOR_SETTINGS}" style="font-weight: bold;"/>&nbsp;
            </h:panelGroup>     
            <h:panelGroup id="settings" />                   
            <h:outputLabel for="url" styleClass="block" value="#{web.text.PKIMETAL_VALIDATOR_URL}"/>
            <h:panelGroup>
                <h:inputText id="url" size="60" value="#{validatorBean.validator.url}" disabled="#{validatorsBean.viewOnly}"/>
                <h:commandButton value="#{web.text.PKIMETAL_VALIDATOR_PING}" action="#{validatorBean.validator.ping()}" disabled="#{validatorsBean.viewOnly}"/>
            </h:panelGroup>	 
            <h:panelGroup rendered="#{!validatorBean.validator.isConnected()}" />     
            <h:panelGroup rendered="#{!validatorBean.validator.isConnected()}">
              <h:outputLabel styleClass="block" value="#{web.text.PKIMETAL_VALIDATOR_NOT_CONNECTED}"/>
            </h:panelGroup> 
            <h:outputLabel for="profiles" styleClass="block" value="#{web.text.PKIMETAL_VALIDATOR_AVAILABLE_PROFILES}"/>
            <h:panelGroup id="profiles">
                <p:selectOneMenu value="#{validatorBean.validator.chosenProfile}" disabled="#{validatorsBean.viewOnly}">
                    <f:selectItems value="#{validatorBean.getGroupList()}"/>
                </p:selectOneMenu>
            </h:panelGroup>
		  </h:panelGrid>
		  
		  <h:panelGrid columns="2" styleClass="edit-top" cellspacing="3" cellpadding="3" border="0" width="100%" rowClasses="Row0,Row1" columnClasses="editColumn1,editColumn2">  
            <h:panelGroup>
                  <h:outputLabel for="testMode" value="#{web.text.PKIMETAL_VALIDATOR_TEST_MODE}" style="font-weight: bold;"/>&nbsp;
            </h:panelGroup>     
            <h:panelGroup id="testMode" /> 
            <h:outputLabel for="testFileUpload" styleClass="block" value="#{web.text.PKIMETAL_VALIDATOR_TEST_CERTIFICATE}"/>
            <h:panelGroup id="testFileUpload">
                <p:fileUpload value="#{validatorBean.testFile}" mode="simple" auto="true" immediate="true"
                           update="message" styleClass="ui-button-outlined ui-button-secondary"
                          listener="#{validatorBean.handleFileUpload}"/>
                <h:commandButton value="#{web.text.PKIMETAL_VALIDATOR_TEST}" action="#{validatorBean.testValidator()}"/>
            </h:panelGroup>
        </h:panelGrid>
		  
		  
		  
		</ui:composition>
	</body>

</html>