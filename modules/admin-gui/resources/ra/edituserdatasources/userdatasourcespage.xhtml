<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<ui:remove>
    <!--
    /*************************************************************************
    *                                                                       *
    *  EJBCA: The OpenSource Certificate Authority                          *
    *                                                                       *
    *  This software is free software; you can redistribute it and/or       *
    *  modify it under the terms of the GNU Lesser General Public           *
    *  License as published by the Free Software Foundation; either         *
    *  version 2.1 of the License, or any later version.                    *
    *                                                                       *
    *  See terms of license at gnu.org.                                     *
    *                                                                       *
    *************************************************************************/

    $Id$
    -->
</ui:remove>
<f:metadata>
    <f:event type="preRenderView" listener="#{userDatasoucesMBean.initialize}"/>
</f:metadata>
<ui:composition template="/WEB-INF/include/template.xhtml">
    <ui:define name="content">
        <h1><h:outputText value="#{web.text.MANAGEUSERDATASOURCES}"/></h1>
        <h:form>
            <h:panelGrid rendered="#{!userDatasoucesMBean.deleteInProgress}">
                <h:panelGrid styleClass="list" columns="2" columnClasses="listColumn1,listColumn2">
                    <h:panelGroup>
                        <h3><h:outputText value="#{web.text.LISTOFUSERDATASOURCES}"/></h3>
                    </h:panelGroup>


                    <h:panelGroup>
                    </h:panelGroup>

                    <h:panelGroup>
                        <h:selectOneListbox styleClass="select-list" name="selectuserdatasource"
                                            value="#{userDatasoucesMBean.selectedUserDataSource}" style="width: 50em" size="15">
                            <f:selectItems value="#{userDatasoucesMBean.userDatasourceSeletItemList}"/>
                        </h:selectOneListbox>
                    </h:panelGroup>

                    <h:panelGroup>
                    </h:panelGroup>

                    <h:panelGroup>
                        <table width="100%" border="0" cellspacing="0" cellpadding="0">
                            <tr>
                                <td align="left">
                                    <h:commandButton name="buttonedituserdatasource"
                                                     action="#{userDatasoucesMBean.actionEdit}"
                                                     value="#{web.text.EDITUSERDATASOURCE}" />
                                </td>
                                <td align="center">
                                    &nbsp;
                                </td>
                                <td align="right">
                                    <h:commandButton name="buttondeleteuserdatasource" action="#{userDatasoucesMBean.actionDelete}"
                                                     value="#{web.text.DELETEUSERDATASOURCE}" />
                                </td>
                            </tr>
                        </table>
                    </h:panelGroup>

                    <h:panelGroup>
                    </h:panelGroup>
                </h:panelGrid>
                <h:panelGrid styleClass="actions margin-top" width="100%">
                    <h:panelGroup>
                        <h3><h:outputText value="#{web.text.ADDDATASOURCE}"/></h3>
                    </h:panelGroup>
                    <h:panelGroup>
                        <h:inputText id="textfielduserdatasourcename" name="textfielduserdatasourcename"
                                     value="#{userDatasoucesMBean.newUserDatasource}" size="40" title="#{web.text.FORMAT_ID_STR}"/><h:outputText value=" "/>
                        <h:commandButton id="buttonadduserdatasource" name="buttonadduserdatasource"
                                         action="#{userDatasoucesMBean.addDatasource}" value="#{web.text.ADD}"/>&nbsp;&nbsp;
                        <h:commandButton id="buttonrenameuserdatasource" name="buttonrenameuserdatasource"
                                         action="#{userDatasoucesMBean.renameDatasource}" value="#{web.text.RENAME_SELECTED}"/>&nbsp;&nbsp;&nbsp;
                        <h:commandButton id="buttoncloneuserdatasource" name="buttoncloneuserdatasource" action="#{userDatasoucesMBean.cloneDatasource}" value="#{web.text.CLONE_SELECTED}"/>
                    </h:panelGroup>
                </h:panelGrid>
            </h:panelGrid>

            <h:panelGroup rendered="#{userDatasoucesMBean.deleteInProgress}">
                <h3><h:outputText value="#{web.text.DELETEUSERDATASOURCE}"/></h3>
                <h:panelGrid columns="2">
                    <h:outputLabel for="deleteValidatorName" value="#{web.text.VALIDATORNAME}:"/>
                    <h:outputText id="deleteValidatorName" value="#{userDatasoucesMBean.selectedUserDataSource}"/>
                    <h:panelGroup/>
                    <h:panelGroup>
                        <h:commandButton value="#{web.text.DELETE_CONFIRM}" action="#{userDatasoucesMBean.deleteDatasource}"/>
                        <h:commandButton value="#{web.text.CANCEL}" action="#{userDatasoucesMBean.actionCancel}"/>
                    </h:panelGroup>
                </h:panelGrid>
            </h:panelGroup>
        </h:form>
    </ui:define>
</ui:composition>
</html>
