<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<ui:remove>
    <!--
    /*************************************************************************
     *                                                                       *
     *  EJBCA: The OpenSource Certificate Authority                          *
     *                                                                       *
     *  This software is free software; you can redistribute it and/or       *
     *  modify it under the terms of the GNU Lesser General Public           *
     *  License as published by the Free Software Foundation; either         *
     *  version 2.1 of the License, or any later version.                    *
     *                                                                       *
     *  See terms of license at gnu.org.                                     *
     *                                                                       *
     *************************************************************************/
     
     @version $Id$
     -->
</ui:remove>
<ui:composition template="/WEB-INF/include/template.xhtml">
    <ui:param name="resourceBean" value="#{endEntityProfileMBean}" />
    <ui:define name="content">
        <h:panelGroup>
            <h2>
                <h:outputText value="#{web.text.EDITENDENTITYPROFILE}"
                    rendered="#{!endEntityProfileMBean.viewOnly}" />
                <h:outputText value="#{web.text.VIEW}"
                    rendered="#{endEntityProfileMBean.viewOnly}" />
            </h2>
            <h3>
                <h:outputText
                    value="#{web.text.ENDENTITYPROFILE}: #{endEntityProfileMBean.endEntityProfileName}" />
            </h3>
        </h:panelGroup>

        <!-- PASSWORD AND E-MAIL -->

        <h:form id="eeProfiles" enctype="multipart/form-data">
            <noscript>
                <p>
                    Javascript is disabled.
                    <h:commandButton value="Update form"
                        action="#{endEntityProfilesMBean.doNothing}" />
                </p>
            </noscript>
            <h:panelGrid columns="3" styleClass="edit-top"
                cellspacing="3" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:panelGroup> &nbsp; </h:panelGroup>
                <h:outputLink align="right"
                    value="editendentityprofiles.xhtml">
                    <h:outputText align="right"
                        value="#{web.text.BACKTOENDENTITYPROFILES}" />
                </h:outputLink>
                <h:panelGroup> &nbsp; </h:panelGroup>
                <h:outputText value="#{web.text.ENDENTITYPROFILEID}" />
                <h:outputText id="endEntityProfileIdOutputText"
                    value="#{endEntityProfileMBean.endEntityProfileId}" />
                <h:panelGroup> &nbsp; </h:panelGroup>
                <h:panelGroup id="checkAutoGeneratedUserNameGroup">
                    <h:outputText value="#{web.text.USERNAME}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Username_Field')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="userNameGrid" columns="2">
                    <h:panelGroup id="endEntityUserNameGroup">
                        <h:inputText id="endEntityUserName"
                                     value="#{endEntityProfileMBean.username}"
                                     disabled="#{endEntityProfileMBean.viewOnly or endEntityProfileMBean.useAutoGeneratedUserName}"/>
                    </h:panelGroup>
                    <h:panelGroup id="checkAutoGenerateUserNameGroup">
                        <h:selectBooleanCheckbox
                            id="autoGenerateUserNameCheckBox"
                            value="#{endEntityProfileMBean.useAutoGeneratedUserName}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:ajax render=":eeProfiles:userNameGrid"/>
                        </h:selectBooleanCheckbox>
                        <h:outputLabel
                            for="autoGenerateUserNameCheckBox"
                            value="#{web.text.AUTOGENERATED}" />
                    </h:panelGroup>
                    <h:panelGroup id="usernameValidationGroup">
                        <h:inputText id="usernameValidationText"
                                     value="#{endEntityProfileMBean.usernameValidation}"
                                     title="#{web.text.FORMAT_REGEX}"
                                     disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.useValidationForUsername}"/>
                    </h:panelGroup>
                    <h:panelGroup id="checkUseValidationForUsernameGroup">
                        <h:selectBooleanCheckbox
                                id="UseValidationForUsernameGroupCheckbox"
                                value="#{endEntityProfileMBean.useValidationForUsername}"
                                disabled="#{endEntityProfileMBean.viewOnly or endEntityProfileMBean.useAutoGeneratedUserName}">
                            <f:ajax render=":eeProfiles:userNameGrid"/>
                        </h:selectBooleanCheckbox>
                        <h:outputLabel
                                for="UseValidationForUsernameGroupCheckbox"
                                value="#{web.text.VALIDATION}" />
                    </h:panelGroup>
                </h:panelGrid>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup>
                    <h:outputLabel for="textFieldPassword"
                        value="#{web.text.PASSWORDORENROLLMENTCODE}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Password_Field')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="textFieldPasswordGrid" columns="1">
                    <h:panelGroup id="textFieldPasswordGroup">
                        <h:inputSecret id="textFieldPassword"
                            type="password"
                            value="#{endEntityProfileMBean.password}"
                            size="20" maxlength="1024" redisplay="true"
                            autocomplete="off"
                            disabled="#{endEntityProfileMBean.viewOnly or endEntityProfileMBean.autoGeneratedPassword}">
                        </h:inputSecret>
                        <h:selectBooleanCheckbox
                            id="passwordRequiredCheckBox"
                            value="#{endEntityProfileMBean.passwordRequired}"
                            disabled="#{endEntityProfileMBean.viewOnly or endEntityProfileMBean.autoGeneratedPassword}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="passwordRequiredCheckBox"
                            value="#{web.text.REQUIRED}" />
                        <h:selectBooleanCheckbox
                            id="passwordAutoGeneratedCheckBox"
                            value="#{endEntityProfileMBean.autoGeneratedPassword}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:ajax
                                render=":eeProfiles:textFieldPasswordGrid" />
                        </h:selectBooleanCheckbox>
                        <h:outputLabel
                            for="passwordAutoGeneratedCheckBox"
                            value="#{web.text.AUTOGENERATED}" />
                        <br />
                        <h:selectOneMenu id="selectAutoPasswordType"
                            value="#{endEntityProfileMBean.currentPasswordType}"
                            disabled="#{not endEntityProfileMBean.autoGeneratedPassword}">
                            <f:ajax />
                            <f:selectItems
                                id="selectAutoPasswordTypeList"
                                value="#{endEntityProfileMBean.passwordTypes}" />
                        </h:selectOneMenu>
						&nbsp;
						<h:outputLabel for="autoPasswordLen" value="#{web.text.OFLENGTH}" />
						&nbsp;
						<h:selectOneMenu id="autoPasswordLen"
                            value="#{endEntityProfileMBean.currentPasswordLen}"
                            disabled="#{not endEntityProfileMBean.autoGeneratedPassword}">
                            <f:selectItems id="autoPasswordLenList"
                                value="#{endEntityProfileMBean.passwordLengths}" />
                        </h:selectOneMenu>
                    </h:panelGroup>
                </h:panelGrid>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup>
                    <h:outputLabel value="#{web.text.MINPWDSTRENGTH}" />
	            	&nbsp;
	            	<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Password_Field')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="passwordGrid" columns="1">
                    <h:panelGroup>
                        <h:inputText id="password"
                            value="#{endEntityProfileMBean.profiledata.minPwdStrength}"
                            size="5" maxlength="10"
                            title="#{web.text.UNIT_BITS}"
                            pt:type="number" required="true"
                            converterMessage="#{web.text.MINPWDSTRENGTHINVALID}"
                            disabled="#{endEntityProfileMBean.viewOnly}" />
                    </h:panelGroup>
                </h:panelGrid>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup>
                    <h:outputLabel
                        value="#{web.text.MAXFAILEDLOGINATTEMPTS}" />
	            	&nbsp;
	            	<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Maximum_Number_of_Failed_Login_Attempts')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="passwordFailedAttemptsGrid" columns="8">
                    <h:selectBooleanCheckbox id="nrFailedAttempts"
                        value="#{endEntityProfileMBean.useMaxFailLogins}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax
                            render=":eeProfiles:passwordFailedAttemptsGrid" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="nrFailedAttempts"
                        value="#{web.text.USE} : " />
				    	&nbsp;
				    	<h:outputLabel for="maxFailLoginsDefaultValue"
                        value="#{web.text.DEFAULT} = " />
                    <h:panelGrid columns="6">
                        <h:inputText id="maxFailLoginsDefaultValue"
                            value="#{endEntityProfileMBean.maxFailedLogins}"
                            size="5" maxlength="255"
                            title="#{web.text.FORMAT_INTEGER}"
                            pt:type="number" required="true"
                            converterMessage="#{web.text.MAXFAILEDLOGINATTEMPTSINVALID}"
                            requiredMessage="#{web.text.MAXFAILEDLOGINATTEMPTSINVALID}"
                            disabled="#{not endEntityProfileMBean.profiledata.maxFailedLoginsUsed or endEntityProfileMBean.maxFailLoginsUnlimited or endEntityProfileMBean.viewOnly}" />
                        <h:selectBooleanCheckbox
                            id="failedAttemptsUnlimited"
                            value="#{endEntityProfileMBean.maxFailLoginsUnlimited}"
                            disabled="#{not endEntityProfileMBean.profiledata.maxFailedLoginsUsed or endEntityProfileMBean.viewOnly}">
                            <f:ajax
                                render=":eeProfiles:passwordFailedAttemptsGrid" />
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="failedAttemptsUnlimited"
                            value="#{web.text.UNLIMITED}" />
                    </h:panelGrid>
                    <h:selectBooleanCheckbox id="attemptsModifiable"
                        value="#{endEntityProfileMBean.failedLoginsModifiable}"
                        disabled="#{not endEntityProfileMBean.profiledata.maxFailedLoginsUsed or endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="attemptsModifiable"
                        value="#{web.text.MODIFYABLE}" />
                </h:panelGrid>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup id="batchGenerationLabelGroup">
                    <h:outputText value="#{web.text.USEINBATCH}" />
                </h:panelGroup>
                <h:panelGrid id="batchGenerationGrid" columns="8">
                    <h:selectBooleanCheckbox id="batchCheckBox"
                        value="#{endEntityProfileMBean.batchGenerationUse}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax render=":eeProfiles:batchGenerationGrid" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="batchCheckBox"
                        value="#{web.text.USE} : " />
				    &nbsp;
				    <h:outputLabel for="batchDefaultCheckBox"
                        value="#{web.text.DEFAULT} = " />
                    <h:selectBooleanCheckbox id="batchDefaultCheckBox"
                        value="#{endEntityProfileMBean.batchGenerationDefault}"
                        disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.batchGenerationUse}">
                    </h:selectBooleanCheckbox>
                    <h:selectBooleanCheckbox id="batchRequiredCheckBox"
                        value="#{endEntityProfileMBean.batchGenerationRequired}"
                        disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.batchGenerationUse}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="batchRequiredCheckBox"
                        value="#{web.text.REQUIRED}" />
                </h:panelGrid>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup id="emailAddressGroup">
                    <h:outputText value="#{web.text.EMAILADDRESS}" />
                </h:panelGroup>
                <h:panelGrid id="emailAddressGrid" columns="2">
                    <h:panelGroup>
                        <h:selectBooleanCheckbox id="emailCheckBox"
                            value="#{endEntityProfileMBean.useEmail}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:ajax
                                render=":eeProfiles:emailAddressGrid" />
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="emailCheckBox"
                            value="#{web.text.USE}" />
				    	&nbsp;
				    	<h:outputText styleClass="help"
                            value="#{web.text.EMAILADDRESS_HELP}" />
                    </h:panelGroup>
                    <br />
                    <h:inputText id="emailInputText"
                        value="#{endEntityProfileMBean.email}" size="45"
                        maxlength="1024"
                        title="#{web.text.FORMAT_DOMAINNAME}"
                        disabled="#{not endEntityProfileMBean.useEmail or endEntityProfileMBean.viewOnly}">
                    </h:inputText>
                    <br />
                    <h:panelGrid id="emailRequiredAndModifiableGrid"
                        columns="4">
                        <h:selectBooleanCheckbox
                            id="emailRequiredCheckBox"
                            value="#{endEntityProfileMBean.emailRequired}"
                            disabled="#{not endEntityProfileMBean.useEmail or endEntityProfileMBean.viewOnly}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="emailRequiredCheckBox"
                            value="#{web.text.REQUIRED}" />
                        <h:selectBooleanCheckbox
                            id="emailModifiableCheckBox"
                            value="#{endEntityProfileMBean.emailModifiable}"
                            disabled="#{not endEntityProfileMBean.useEmail or endEntityProfileMBean.viewOnly}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="emailModifiableCheckBox"
                            value="#{web.text.MODIFYABLE}" />
                    </h:panelGrid>
                </h:panelGrid>
                <h:panelGroup>
                        &nbsp;
                </h:panelGroup>
                <h:panelGroup id="descriptionGroup">
                    <h:outputText value="#{web.text.PROFILEDESCRIPTION}" />
                </h:panelGroup>
                <h:panelGrid id="descriptionGrid" columns="1">
                    <h:panelGroup>
                        <h:outputText id="description" />
                        <h:inputTextarea
                            name="#{web.text.TEXTFIELD_DESCRIPTION}"
                            cols="45"
                            value="#{endEntityProfileMBean.description}"
                            rows="2" />
                    </h:panelGroup>
                </h:panelGrid>
            </h:panelGrid>

            <!-- DIRECTIVES -->

            <h:panelGrid columns="3" styleClass="edit-top"
                cellspacing="3" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:outputText value="#{web.text.DIRECTIVES}"
                    style="font-weight: bold;" />
                <h:panelGroup id="header_directives" />
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup id="reverseFieldChecks">
                    <h:outputText value="#{web.text.REVERSEFIELDCHECKS}" />
						&nbsp;
						<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Reverse_Subject_DN_Alt_Name_Checks')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="reverseFieldChecksGrid" columns="2">
                    <h:selectBooleanCheckbox
                        id="reverseFieldChecksCheckBox"
                        value="#{endEntityProfileMBean.profiledata.reverseFieldChecks}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="reverseFieldChecksCheckBox"
                        value="#{web.text.USE}" />
                </h:panelGrid>
                <h:panelGroup>
						&nbsp;
					</h:panelGroup>
                <h:panelGroup id="mergeDnWebServicesGroup">
                    <h:outputText
                        value="#{web.text.ALLOWMERGEDNWEBSERVICES}" />    
						&nbsp;
						<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Allow_merge_DN_Webservices')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="mergeDnWebServicesGrid" columns="2">
                    <h:selectBooleanCheckbox
                        id="mergeDnWebServicesCheckBox"
                        value="#{endEntityProfileMBean.profiledata.allowMergeDnWebServices}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="mergeDnWebServicesCheckBox"
                        value="#{web.text.ALLOW}" />
                </h:panelGrid>
                <h:panelGroup>
                        &nbsp;
                    </h:panelGroup>
                <h:panelGroup id="allowMultiValueRDNGroup">
                    <h:outputText value="#{web.text.ALLOWMULTIVALUERDN}" />    
                        &nbsp;
                        <h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Allow_multi-value_RDNs')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="allowMultiValueRDNGrid" columns="2">
                    <h:selectBooleanCheckbox
                        id="allowMultiValueRDNCheckBox"
                        value="#{endEntityProfileMBean.profiledata.allowMultiValueRDNs}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:panelGroup>
                        <h:outputLabel for="allowMultiValueRDNCheckBox"
                            value="#{web.text.ALLOW}" />
                            &nbsp;
                            <h:outputText styleClass="help"
                            value="#{web.text.ALLOWMULTIVALUERDN_HELP}" />
                    </h:panelGroup>
                </h:panelGrid>
            </h:panelGrid>

            <!-- SUBJECT DN ATTRIBUTES -->

            <h:panelGrid id="header_subjectdnattributes" columns="3"
                styleClass="edit-top" cellspacing="3" cellpadding="3"
                border="0" width="100%" rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:panelGroup>
                    <h:outputText
                        value="#{web.text.CERT_SUBJECTDN_ATTRIBUTES}"
                        style="font-weight: bold;" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Subject_DN_Fields')}"
                        escape="false" />
                </h:panelGroup>
                
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:panelGroup id="subjectDnRemovalHeader">
                    <h:outputText value="#{web.text.SELECTFORREMOVAL}"
                        rendered="#{not empty endEntityProfileMBean.subjectDnComponentList and not endEntityProfileMBean.viewOnly}" />
                </h:panelGroup>
                
                <h:outputText style="font-weight: bold;"
                    value="#{web.text.CERT_SUBJECTDN_ATTRIBUTES}" />
                <h:panelGrid id="subjectDNAttributeGrid" columns="2">
                    <h:selectOneMenu id="subjectDnAttributeType"
                        value="#{endEntityProfileMBean.currentSubjectDNAttribute}"
                        rendered="#{not endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                        <!-- Needed to submit the selected item via AJAX -->
                        <f:selectItems id="subjectDNAttributesList"
                            value="#{endEntityProfileMBean.subjectDNAttributes}" />
                    </h:selectOneMenu>
                    <h:commandButton id="addSubjectDnAttributeButton"
                        value="#{web.text.ADD}"
                        rendered="#{not endEntityProfileMBean.viewOnly}"
                        action="#{endEntityProfileMBean.addSubjectDNAttribute}">
                        <f:ajax
                            render="subjectDnComponents subjectDnRemovalHeader removeSubjectDnAttributeGroup" />
                    </h:commandButton>
                </h:panelGrid>
            </h:panelGrid>
            <h:dataTable id="subjectDnComponents" var="dnComponent"
                value="#{endEntityProfileMBean.subjectDnComponentList}"
                cellspacing="1" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:column>
                    <h:selectBooleanCheckbox
                        id="removeComponentDnCheckBox"
                        value="#{dnComponent.shouldRemove}"
                        rendered="#{not endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                    </h:selectBooleanCheckbox>
                </h:column>
                <h:column>
                    <h:outputLabel for="subjectDnTextField"
                        value="#{dnComponent.name}" />
                </h:column>
                <h:column>
                    <h:panelGrid id="subjectDNTextFieldGrid" column="1">
                        <h:inputText id="subjectDnTextField"
                            value="#{dnComponent.value}" size="45"
                            maxlength="1024"
                            rendered="#{not dnComponent.emailField}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:ajax />
                        </h:inputText>
                        <h:panelGrid id="subjectDNCheckBoxesGrid"
                            columns="7">
                            <h:selectBooleanCheckbox
                                id="dnAttributeRequiredCheckBox"
                                value="#{dnComponent.required}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:ajax />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="dnAttributeRequiredCheckBox"
                                value="#{web.text.REQUIRED}" />
                            <h:selectBooleanCheckbox
                                id="dnModifiableCheckBox"
                                value="#{dnComponent.modifiable}"
                                rendered="#{not dnComponent.emailField}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:ajax render="subjectDNCheckBoxesGrid" />
                            </h:selectBooleanCheckbox>
                            <h:outputText class="help"
                                value="#{web.text.DN_PKIX_EMAILADDRESS_HELP}"
                                rendered="#{dnComponent.emailField}" />
                            <h:outputLabel for="dnModifiableCheckBox"
                                value="#{web.text.MODIFYABLE}"
                                rendered="#{not dnComponent.emailField}" />
                            <h:selectBooleanCheckbox
                                id="dnAttributeValidationCheckBox"
                                value="#{dnComponent.useValidation}"
                                rendered="#{not dnComponent.emailField}"
                                disabled="#{not dnComponent.modifiable or endEntityProfileMBean.viewOnly}">
                                <f:ajax render="subjectDNCheckBoxesGrid" />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="dnAttributeValidationCheckBox"
                                value="#{web.text.VALIDATION}"
                                rendered="#{not dnComponent.emailField}" />
                            <h:inputText
                                id="subjectDnValidationTextField"
                                style="font-size: 9pt"
                                value="#{dnComponent.validationString}"
                                title="#{web.text.FORMAT_REGEX}"
                                rendered="#{not dnComponent.emailField}"
                                disabled="#{not dnComponent.useValidation or not dnComponent.modifiable or endEntityProfileMBean.viewOnly}">
                                <f:ajax />
                            </h:inputText>
                        </h:panelGrid>
                    </h:panelGrid>
                </h:column>
            </h:dataTable>
            <h:panelGrid id="bottom_subjectdnattributes" columns="3"
                cellspacing="3" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3"
                rendered="#{not endEntityProfileMBean.viewOnly}">
                <h:panelGroup id="removeSubjectDnAttributeGroup">
                    <h:commandButton id="removeSubjectDnAttributeButton"
                        value="#{web.text.REMOVE}"
                        action="#{endEntityProfileMBean.removeSubjectDnComponent}"
                        rendered="#{not empty endEntityProfileMBean.subjectDnComponentList}">
                        <f:ajax
                            render="subjectDnComponents subjectDnRemovalHeader removeSubjectDnAttributeGroup" />
                    </h:commandButton>
                </h:panelGroup>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
            </h:panelGrid>

            <!-- OTHER SUBJECT ATTRIBUTES -->

            <h:panelGrid id="header_othersubjectattributes" columns="3"
                styleClass="edit-top" cellspacing="3" cellpadding="3"
                border="0" width="100%" rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:outputText value="#{web.text.OTHERSUBJECTATTR}"
                    style="font-weight: bold;" />
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup id="subjectAltNameRemovalHeader">
                    <h:outputText value="#{web.text.SELECTFORREMOVAL}"
                        rendered="#{not empty endEntityProfileMBean.subjectAltNameComponentList and not endEntityProfileMBean.viewOnly}" />
                </h:panelGroup>
                <h:panelGroup id="subjectAltNameGrid" columns="3">
                    <h:outputText style="font-weight: bold;"
                        value="#{web.text.EXT_PKIX_SUBJECTALTNAME}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Subject_Alternative_Names')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="subjectAltNameTypeGrid" columns="2">
                    <h:selectOneMenu id="subjectAltNameAttributeType"
                        value="#{endEntityProfileMBean.currentSubjectAltNameType}"
                        rendered="#{not endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                        <f:selectItems id="subjectAltNameList"
                            value="#{endEntityProfileMBean.subjectAltNameTypes}" />
                    </h:selectOneMenu>
                    <h:commandButton
                        id="addSubjectAltNameAttributeButton"
                        value="#{web.text.ADD}"
                        rendered="#{not endEntityProfileMBean.viewOnly}"
                        action="#{endEntityProfileMBean.addSubjectAltName}">
                        <f:ajax
                            render="subjectAltNameComponents subjectAltNameRemovalHeader removeSubjectAltNameGroup" />
                    </h:commandButton>
                </h:panelGrid>
            </h:panelGrid>

            <h:dataTable id="subjectAltNameComponents"
                var="subjectAltNameComponent"
                value="#{endEntityProfileMBean.subjectAltNameComponentList}"
                cellspacing="1" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:column>
                    <h:selectBooleanCheckbox
                        id="removeComponentAltNameCheckBox"
                        value="#{subjectAltNameComponent.shouldRemove}"
                        rendered="#{not endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                    </h:selectBooleanCheckbox>
                </h:column>
                <h:column>
                    <h:outputLabel for="subjectAltNameTextField"
                        value="#{subjectAltNameComponent.name}" />
                </h:column>
                <h:column>
                    <h:panelGrid id="subjectAltNameTextFieldGrid"
                        column="1">
                        <h:outputText styleClass="help"
                            value="#{subjectAltNameComponent.helpText}"
                            rendered="#{not empty subjectAltNameComponent.helpText}" />
                        <h:panelGroup
                            rendered="#{subjectAltNameComponent.emailField}">
                            <h:selectBooleanCheckbox
                                id="altNameUseEndEntityEmail"
                                value="#{subjectAltNameComponent.used}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:ajax
                                    render="subjectAltNameCheckBoxesGrid subjectAltNameTextField" />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="altNameUseEndEntityEmail"
                                value="#{web.text.USEENTITYEMAILFIELD}" />
                        </h:panelGroup>
                        <h:panelGroup
                            rendered="#{subjectAltNameComponent.dnsField}">
                            <h:selectBooleanCheckbox
                                id="altNameUseEndEntityCnAsDns"
                                value="#{subjectAltNameComponent.copy}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:ajax
                                    render="subjectAltNameCheckBoxesGrid subjectAltNameTextField" />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="altNameUseEndEntityCnAsDns"
                                value="#{web.text.USEENTITYECNFIELD}" />
                        </h:panelGroup>
                        <h:inputText id="subjectAltNameTextField"
                            value="#{subjectAltNameComponent.value}"
                            size="45" maxlength="1024"
                            disabled="#{subjectAltNameComponent.useEndEntityEmail or subjectAltNameComponent.useEndEntityDns or endEntityProfileMBean.viewOnly}">
                            <f:ajax />
                        </h:inputText>
                        <h:panelGrid id="subjectAltNameCheckBoxesGrid"
                            columns="7">
                            <h:selectBooleanCheckbox
                                id="altNameRequiredCheckBox"
                                value="#{subjectAltNameComponent.required}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:ajax />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel for="altNameRequiredCheckBox"
                                value="#{web.text.REQUIRED}" />
                            <h:selectBooleanCheckbox
                                id="altNameModifiableCheckBox"
                                value="#{subjectAltNameComponent.modifiable}"
                                disabled="#{subjectAltNameComponent.subjectAltComponentPropertyDisabled}">
                                <f:ajax
                                    render="subjectAltNameCheckBoxesGrid" />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="altNameModifiableCheckBox"
                                value="#{web.text.MODIFYABLE}" />
                            <h:selectBooleanCheckbox
                                id="altNameValidationCheckBox"
                                value="#{subjectAltNameComponent.useValidation}"
                                disabled="#{not subjectAltNameComponent.modifiable or subjectAltNameComponent.subjectAltComponentPropertyDisabled}">
                                <f:ajax
                                    render="subjectAltNameCheckBoxesGrid" />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="altNameValidationCheckBox"
                                value="#{web.text.VALIDATION}" />
                            <h:inputText
                                id="subjectAltNameValidationTextField"
                                style="font-size: 9pt"
                                value="#{subjectAltNameComponent.validationString}"
                                title="#{web.text.FORMAT_REGEX}"
                                disabled="#{not subjectAltNameComponent.useValidation or not subjectAltNameComponent.modifiable or subjectAltNameComponent.subjectAltComponentPropertyDisabled}">
                                <f:ajax />
                            </h:inputText>
                        </h:panelGrid>
                    </h:panelGrid>
                </h:column>
            </h:dataTable>

            <h:panelGrid id="header_othersubjectattributes2" columns="3"
                cellspacing="3" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup id="removeSubjectAltNameGroup">
                    <h:commandButton id="removeSubjectAltNameButton"
                        value="#{web.text.REMOVE}"
                        action="#{endEntityProfileMBean.removeSubjectAltNameComponent}"
                        rendered="#{not empty endEntityProfileMBean.subjectAltNameComponentList and not endEntityProfileMBean.viewOnly}">
                        <f:ajax
                            render="subjectAltNameComponents subjectAltNameRemovalHeader removeSubjectAltNameGroup" />
                    </h:commandButton>
                </h:panelGroup>
                <h:panelGroup>
						&nbsp;
					</h:panelGroup>
                <h:panelGroup>
						&nbsp;
					</h:panelGroup>
                <h:panelGroup
                    id="subjectDirectoryAttributesRemovalHeader">
                    <h:outputText value="#{web.text.SELECTFORREMOVAL}"
                        rendered="#{not empty endEntityProfileMBean.subjectDirectoryAttributeComponentList and not endEntityProfileMBean.viewOnly}" />
                </h:panelGroup>
                <h:panelGroup id="subjectDirectoryAttributesGrid"
                    columns="3">
                    <h:outputText style="font-weight: bold;"
                        value="#{web.text.EXT_PKIX_SUBJECTDIRATTRS}" />
                </h:panelGroup>
                <h:panelGrid id="subjectDirectoryAttributeTypeGrid"
                    columns="2">
                    <h:selectOneMenu id="subjectDirectoryAttributeType"
                        value="#{endEntityProfileMBean.currentSubjectDirectoryAttribute}"
                        rendered="#{not endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                        <!-- SUBMITTING ITEM SELECTED -->
                        <f:selectItems
                            id="subjectDirectoryAttributeTypeList"
                            value="#{endEntityProfileMBean.subjectDirectoryAttributes}" />
                    </h:selectOneMenu>
                    <h:commandButton
                        id="addSubjectDirectoryAttributeButton"
                        value="#{web.text.ADD}"
                        action="#{endEntityProfileMBean.addSubjectDirectoryAttribute}"
                        rendered="#{not endEntityProfileMBean.viewOnly}">
                        <f:ajax
                            render="subjectDirectoryComponents subjectDirectoryAttributesRemovalHeader removeSubjectDirectoryAttributeGroup" />
                    </h:commandButton>
                </h:panelGrid>
            </h:panelGrid>

            <h:dataTable id="subjectDirectoryComponents"
                var="subjectDirectoryAttributesComponent"
                value="#{endEntityProfileMBean.subjectDirectoryAttributeComponentList}"
                cellspacing="1" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:column>
                    <h:selectBooleanCheckbox
                        id="removeComponentDirectoryAttributeCheckBox"
                        value="#{subjectDirectoryAttributesComponent.shouldRemove}"
                        rendered="#{not endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                    </h:selectBooleanCheckbox>
                </h:column>
                <h:column>
                    <h:outputLabel for="subjectDirectoryTextField"
                        value="#{subjectDirectoryAttributesComponent.name}" />
                </h:column>
                <h:column>
                    <h:panelGrid
                        id="subjectDirectoryAttributesTextFieldGrid"
                        column="1">
                        <h:inputText id="subjectDirectoryTextField"
                            value="#{subjectDirectoryAttributesComponent.value}"
                            size="45" maxlength="1024"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:ajax />
                        </h:inputText>
                        <h:panelGrid
                            id="subjectDirectoryAttributesCheckBoxesGrid"
                            columns="7">
                            <h:selectBooleanCheckbox
                                id="directoryAttributesRequiredCheckBox"
                                value="#{subjectDirectoryAttributesComponent.required}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:ajax />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="directoryAttributesRequiredCheckBox"
                                value="#{web.text.REQUIRED}" />
                            <h:selectBooleanCheckbox
                                id="directoryModifiableCheckBox"
                                value="#{subjectDirectoryAttributesComponent.modifiable}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:ajax />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="directoryModifiableCheckBox"
                                value="#{web.text.MODIFYABLE}" />
                        </h:panelGrid>
                    </h:panelGrid>
                </h:column>
            </h:dataTable>
            <h:panelGrid id="header_othersubjectattributes3" columns="3"
                cellspacing="3" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3"
                rendered="#{not endEntityProfileMBean.viewOnly}">
                <h:panelGroup id="removeSubjectDirectoryAttributeGroup">
                    <h:commandButton
                        id="removeSubjectDirectoryAttributeButton"
                        value="#{web.text.REMOVE}"
                        action="#{endEntityProfileMBean.removeSubjectDirectoryAttributeComponent}"
                        rendered="#{not empty endEntityProfileMBean.subjectDirectoryAttributeComponentList}">
                        <f:ajax
                            render="subjectDirectoryComponents subjectDirectoryAttributesRemovalHeader removeSubjectDirectoryAttributeGroup" />
                    </h:commandButton>
                </h:panelGroup>
                <h:panelGroup>
						&nbsp;
					</h:panelGroup>
                <h:panelGroup>
						&nbsp;
					</h:panelGroup>
            </h:panelGrid>

			<!-- SSH Certificate Data -->

            
			<h:panelGrid id="header_sshcertificatedata" columns="3"
                styleClass="edit-top" cellspacing="3" cellpadding="3"
                border="0" width="100%" rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3"
                rendered="#{endEntityProfileMBean.typeSshAvailable}">
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:panelGroup>
                	<h:outputText value="#{web.text.SSH_CERTIFICATE_DATA}"
                    style="font-weight: bold;" />
                </h:panelGroup>             
                
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:panelGroup id="sshFieldRemovalHeader">
                    <h:outputText value="#{web.text.SELECTFORREMOVAL}"
                        rendered="#{not empty endEntityProfileMBean.sshFieldList and not endEntityProfileMBean.viewOnly}" />
                </h:panelGroup>
                
                <h:outputText style="font-weight: bold;"
                    value="#{web.text.SSH_FIELDS}" />
                <h:panelGrid id="sshFieldGrid" columns="2">
                    <h:selectOneMenu id="sshFieldType"
                        value="#{endEntityProfileMBean.currentSshField}"
                        rendered="#{not endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                        <!-- Needed to submit the selected item via AJAX -->
                        <f:selectItems id="sshFieldList"
                            value="#{endEntityProfileMBean.sshFields}" />
                    </h:selectOneMenu>
                    <h:commandButton id="addSshFieldButton"
                        value="#{web.text.ADD}"
                        rendered="#{not endEntityProfileMBean.viewOnly}"
                        action="#{endEntityProfileMBean.addSshField}">
                        <f:ajax
                            render="sshFieldComponents principalRemovalHeader removeSshFieldGroup" />
                    </h:commandButton>
                </h:panelGrid>
			</h:panelGrid>
			                
            <h:dataTable id="sshFieldComponents" var="sshFieldComponent"
	                value="#{endEntityProfileMBean.sshFieldList}"
	                cellspacing="1" cellpadding="3" border="0" width="100%"
	                rowClasses="Row0,Row1"
	                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:column>
                    <h:selectBooleanCheckbox
                        id="removeSshFieldCheckBox"
                        value="#{sshFieldComponent.shouldRemove}"
                        rendered="#{not endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                    </h:selectBooleanCheckbox>
                </h:column>
                <h:column>
                    <h:outputLabel for="sshFieldTextField"
                        value="#{sshFieldComponent.name}" />
                </h:column>
                <h:column>
                    <h:panelGrid id="sshFieldTextFieldGrid" column="1">
                        <h:inputText id="sshFieldTextField"
                            value="#{sshFieldComponent.value}" size="45"
                            maxlength="1024"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:ajax />
                        </h:inputText>
                        <h:panelGrid id="sshFieldCheckBoxesGrid"
                            columns="7">
                            <h:selectBooleanCheckbox
                                id="sshFieldRequiredCheckBox"
                                value="#{sshFieldComponent.required}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:ajax />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="sshFieldRequiredCheckBox"
                                value="#{web.text.REQUIRED}" />
                            <h:selectBooleanCheckbox
                                id="sshFieldModifiableCheckBox"
                                value="#{sshFieldComponent.modifiable}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:ajax render="sshFieldCheckBoxesGrid" />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel for="sshFieldModifiableCheckBox"
                                value="#{web.text.MODIFYABLE}"
                                />
                            <h:selectBooleanCheckbox
                                id="sshFieldValidationCheckBox"
                                value="#{sshFieldComponent.useValidation}"                              
                                disabled="#{not sshFieldComponent.modifiable or endEntityProfileMBean.viewOnly}">
                                <f:ajax render="sshFieldCheckBoxesGrid" />
                            </h:selectBooleanCheckbox>
                            <h:outputLabel
                                for="sshFieldValidationCheckBox"
                                value="#{web.text.VALIDATION}" />
                            <h:inputText
                                id="sshFieldValidationTextField"
                                style="font-size: 9pt"
                                value="#{sshFieldComponent.validationString}"
                                title="#{web.text.FORMAT_REGEX}"
                                disabled="#{not sshFieldComponent.useValidation or not sshFieldComponent.modifiable or endEntityProfileMBean.viewOnly}">
                                <f:ajax />
                            </h:inputText>
                        </h:panelGrid>
                    </h:panelGrid>
                </h:column>
            </h:dataTable>
            <h:panelGrid id="bottom_sshFields" columns="3"
                cellspacing="3" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3"
                rendered="#{not endEntityProfileMBean.viewOnly}">
                <h:panelGroup id="removeSshFieldGroup">
                    <h:commandButton id="removeSshFieldButton"
                        value="#{web.text.REMOVE}"
                        action="#{endEntityProfileMBean.removeSshField}"
                        rendered="#{not empty endEntityProfileMBean.sshFieldList}">
                        <f:ajax
                            render="sshFieldComponents sshFieldRemovalHeader removeSshFieldGroup" />
                    </h:commandButton>
                </h:panelGroup>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
            </h:panelGrid>
            <!-- SSH Critical Options -->
            <h:panelGrid id="sshCriticalOptions" columns="3"
                cellspacing="3" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3"
                rendered="#{not endEntityProfileMBean.viewOnly}">
            	<h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup id="sshForceCommandGroup">
                    <h:outputText value="#{web.text.SSH_OPTION_FORCE_COMMAND}" />
                </h:panelGroup>
                <h:panelGrid id="sshForceCommandGrid" columns="2">
                    <h:inputText id="forceComandInputText"
                        value="#{endEntityProfileMBean.profiledata.sshForceCommand}" size="45"
                        maxlength="1024"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                    </h:inputText>
                    <br />
                    <h:panelGrid id="sshForceCommandRequiredAndModifiableGrid"
                        columns="4">
                        <h:selectBooleanCheckbox
                            id="sshForceCommandRequiredCheckBox"
                            value="#{endEntityProfileMBean.profiledata.sshForceCommandRequired}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="sshForceCommandRequiredCheckBox"
                            value="#{web.text.REQUIRED}" />
                        <h:selectBooleanCheckbox
                            id="sshForceCommandRequiredModifiableCheckBox"
                            value="#{endEntityProfileMBean.profiledata.sshForceCommandModifiable}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="sshForceCommandRequiredModifiableCheckBox"
                            value="#{web.text.MODIFYABLE}" />
                    </h:panelGrid>
                    <br />
                    <h:outputText styleClass="help"
                        value="#{web.text.SSH_OPTION_FORCE_COMMAND_HELP}" />
                </h:panelGrid>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup id="sshSourceAddressGroup">
                    <h:outputText value="#{web.text.SSH_OPTION_SOURCE_ADDRESS}" />
                </h:panelGroup>
                <h:panelGrid id="sshSourceAddressGrid" columns="2">
                    <h:inputText id="sshSourceAddressInputText"
                        value="#{endEntityProfileMBean.profiledata.sshSourceAddress}" size="45"
                        maxlength="1024"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                    </h:inputText>
                    <br />
                    <h:panelGrid id="sshSourceAddressRequiredAndModifiableGrid"
                        columns="4">
                        <h:selectBooleanCheckbox
                            id="sshSourceAddressRequiredCheckBox"
                            value="#{endEntityProfileMBean.profiledata.sshSourceAddressRequired}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="sshSourceAddressRequiredCheckBox"
                            value="#{web.text.REQUIRED}" />
                        <h:selectBooleanCheckbox
                            id="sshSourceAddressRequiredModifiableCheckBox"
                            value="#{endEntityProfileMBean.profiledata.sshSourceAddressModifiable}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="sshSourceAddressRequiredModifiableCheckBox"
                            value="#{web.text.MODIFYABLE}" />
                    </h:panelGrid>
                    <br />
                    <h:outputText styleClass="help"
                        value="#{web.text.SSH_OPTION_SOURCE_ADDRESS_HELP}" />
                </h:panelGrid>
            </h:panelGrid>
                
                    

			<!-- MAIN CERTIFICATE DATA -->
            <h:panelGrid id="header_maincertificatedata" columns="3"
                styleClass="edit-top" cellspacing="3" cellpadding="3"
                border="0" width="100%" rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:outputText value="#{web.text.MAINCERTIFICATEDATA}"
                    style="font-weight: bold;" />
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGrid id="PG1" columns="1" width="100%"
                    columnClasses="column-align-right">
                    <h:panelGroup>
                        <h:outputLabel for="defaultCertificateProfile"
                            value="#{web.text.DEFAULTCERTIFICATEPROFILE}" />
                    </h:panelGroup>
					&nbsp;
					<h:panelGroup>
                        <h:outputLabel for="availableCertProfiles"
                            value="#{web.text.AVAILABLECERTIFICATEPROF}" />
                    </h:panelGroup>
                </h:panelGrid>
                <h:panelGroup>
                    <h:panelGrid id="PG2" columns="1">
                        <h:panelGroup>
                            <h:selectOneMenu
                                id="defaultCertificateProfile"
                                value="#{endEntityProfileMBean.defaultCertificateProfile}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:selectItems
                                    id="defaultCertificateProfileList"
                                    value="#{endEntityProfileMBean.allCertificateProfiles}" />
                            </h:selectOneMenu>
                        </h:panelGroup>
                        <h:panelGroup>
                            <h:selectManyListbox
                                id="availableCertProfiles" size="7"
                                value="#{endEntityProfileMBean.availableCertificateProfiles}"
                                disabled="#{endEntityProfileMBean.viewOnly}">
                                <f:selectItems
                                    id="availableCertProfilesList"
                                    value="#{endEntityProfileMBean.allCertificateProfiles}" />
                                <f:converter
                                    converterId="javax.faces.Integer" />
                            </h:selectManyListbox>
                        </h:panelGroup>
                    </h:panelGrid>
                </h:panelGroup>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGrid id="PGb1" columns="1" width="100%"
                    columnClasses="column-align-right">
                    <h:panelGroup>
                        <h:outputLabel for="defaultCAMenu"
                            value="#{web.text.DEFAULTCA}" />
                    </h:panelGroup>
				    &nbsp;
					<h:panelGroup>
                        <h:outputLabel for="availableCA"
                            value="#{web.text.AVAILABLECAS}" />
                    </h:panelGroup>
                </h:panelGrid>
                <h:panelGrid id="PGb2" columns="1">
                    <h:selectOneMenu id="defaultCAMenu"
                        value="#{endEntityProfileMBean.defaultCa}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:selectItems id="defaultCAList"
                            value="#{endEntityProfileMBean.allCas}" />
                    </h:selectOneMenu>
                    <h:panelGroup>
                        <h:selectManyListbox id="availableCA" size="7"
                            value="#{endEntityProfileMBean.availableCas}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:selectItems id="availableCAList"
                                value="#{endEntityProfileMBean.allCasWithAnyCaOption}" />
                            <f:converter
                                converterId="javax.faces.Integer" />
                        </h:selectManyListbox>
                    </h:panelGroup>
                </h:panelGrid>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGrid id="PGc1" columns="1" width="100%"
                    columnClasses="column-align-right">
                    <h:panelGroup>
                        <h:outputLabel for="defaultTokenMenu"
                            value="#{web.text.DEFAULTTOKEN}" />
                    </h:panelGroup>
				    &nbsp;
					<h:panelGroup>
                        <h:outputLabel for="availableToken"
                            value="#{web.text.AVAILABLETOKENS}" />
                    </h:panelGroup>
                </h:panelGrid>
                <h:panelGrid id="PGc2" columns="1">
                    <h:selectOneMenu id="defaultTokenMenu"
                        value="#{endEntityProfileMBean.defaultTokenType}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:selectItems id="defaultTokenList"
                            value="#{endEntityProfileMBean.allTokenTypes}" />
                    </h:selectOneMenu>
                    <h:panelGroup>
                        <h:selectManyListbox id="availableToken"
                            size="7"
                            value="#{endEntityProfileMBean.availableTokenTypes}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:selectItems id="availableTokenList"
                                value="#{endEntityProfileMBean.allTokenTypes}" />
                            <f:converter
                                converterId="javax.faces.Integer" />
                        </h:selectManyListbox>
                    </h:panelGroup>
                </h:panelGrid>
            </h:panelGrid>


            <!-- OTHER CERTIFICATE DATA -->

            <h:panelGrid id="header_othercertificatedata" columns="3"
                styleClass="edit-top" cellspacing="3" cellpadding="3"
                border="0" width="100%" rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:outputText value="#{web.text.OTHERCERTIFICATEDATA}"
                    style="font-weight: bold;" />
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
                <h:panelGroup>
                    <h:outputText
                        value="#{web.text.CERT_SERIALNUMBER_CUSTOM}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Allow%20certificate%20serial%20number%20override')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid columns="2">
                    <h:selectBooleanCheckbox
                        id="certSerialNumberCheckBox"
                        value="#{endEntityProfileMBean.useCertSerialNumber}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="certSerialNumberCheckBox"
                        value="#{web.text.USE}" />
                </h:panelGrid>
				&nbsp;
				<h:panelGroup>
                    <h:outputText value="#{web.text.TIMEOFSTART}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Certificate_Validity')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="certValidityStartTimeGrid1" columns="1">
                    <h:panelGrid id="certValidityStartTimeGrid2"
                        columns="7">
                        <h:selectBooleanCheckbox
                            id="certValidityStartTimeCheckBox"
                            value="#{endEntityProfileMBean.useCertValidityStartTime}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:ajax render="certValidityStartTimeGrid2" />
                        </h:selectBooleanCheckbox>
                        <h:outputLabel
                            for="certValidityStartTimeCheckBox"
                            value="#{web.text.USE} : " />
                        <h:outputLabel
                            for="textFieldCertValidityStartTime"
                            value="#{web.text.VALUE}" />
                        <h:inputText id="textFieldCertValidityStartTime"
                            value="#{endEntityProfileMBean.validityStartTime}"
                            size="25" maxlength="40"
                            title="#{web.text.FORMAT_ISO8601}"
                            pt:pattern="#{endEntityProfileMBean.validityTimeRegex}"
                            disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.useCertValidityStartTime}">
                            <f:ajax />
                        </h:inputText>
                        <h:selectBooleanCheckbox
                            id="certValidityStartTimeModCheckBox"
                            value="#{endEntityProfileMBean.certValidityStartTimeModifiable}"
                            disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.useCertValidityStartTime}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel
                            for="certValidityStartTimeModCheckBox"
                            value="#{web.text.MODIFYABLE}" />
                    </h:panelGrid>
                    <h:outputText styleClass="help"
                        value="(#{web.text.DATE_HELP} #{web.ejbcaWebBean.dateExample} #{endEntityProfileMBean.validityTimeExample})" />
                </h:panelGrid>
				&nbsp;
				<h:panelGroup>
                    <h:outputText value="#{web.text.TIMEOFEND}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Certificate_Validity')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="certValidityEndTimeGrid1" columns="1">
                    <h:panelGrid id="certValidityEndTimeGrid2"
                        columns="7">
                        <h:selectBooleanCheckbox
                            id="certValidityEndTimeCheckBox"
                            value="#{endEntityProfileMBean.useCertValidityEndTime}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:ajax render="certValidityEndTimeGrid2" />
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="certValidityEndTimeCheckBox"
                            value="#{web.text.USE} : " />
                        <h:outputLabel
                            for="textFieldCertValidityEndTime"
                            value="#{web.text.VALUE}" />
                        <h:inputText id="textFieldCertValidityEndTime"
                            value="#{endEntityProfileMBean.validityEndTime}"
                            size="25" maxlength="40"
                            title="#{web.text.FORMAT_ISO8601}"
                            pt:pattern="#{endEntityProfileMBean.validityTimeRegex}"
                            disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.useCertValidityEndTime}">
                            <f:ajax />
                        </h:inputText>
                        <h:selectBooleanCheckbox
                            id="certValidityEndTimeModCheckBox"
                            value="#{endEntityProfileMBean.certValidityEndTimeModifiable}"
                            disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.useCertValidityEndTime}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel
                            for="certValidityEndTimeModCheckBox"
                            value="#{web.text.MODIFYABLE}" />
                    </h:panelGrid>
                    <h:outputText styleClass="help"
                        value="(#{web.text.DATE_HELP} #{web.ejbcaWebBean.dateExample} #{endEntityProfileMBean.validityTimeExample})" />
                </h:panelGrid>
				&nbsp;
				<h:panelGroup id="cardNumberGroup">
                    <h:outputText value="#{web.text.CARDNUMBER}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Card_Number')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="cardNumberGrid" columns="4">
                    <h:selectBooleanCheckbox id="cardNumberUseCheckBox"
                        value="#{endEntityProfileMBean.useCardNumber}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax render="cardNumberGrid" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="cardNumberUseCheckBox"
                        value="#{web.text.USE}" />
                    <h:selectBooleanCheckbox
                        id="cardNumberRequiredCheckBox"
                        value="#{endEntityProfileMBean.cardNumberRequired}"
                        disabled="#{not endEntityProfileMBean.useCardNumber or endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="cardNumberRequiredCheckBox"
                        value="#{web.text.REQUIRED}" />
                </h:panelGrid>
	            &nbsp;
	            <h:panelGroup id="nameConstraintsPermittedGroup">
                    <h:outputText
                        value="#{web.text.EXT_PKIX_NC_PERMITTED}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Name_Constraints')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="nameConstraintsPermittedGrid"
                    columns="4">
                    <h:selectBooleanCheckbox
                        id="nameConstraintsPermittedCheckBox"
                        value="#{endEntityProfileMBean.useNameConstraintsPermitted}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax render="nameConstraintsPermittedGrid" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel
                        for="nameConstraintsPermittedCheckBox"
                        value="#{web.text.USE}" />
                    <h:selectBooleanCheckbox
                        id="nameConstraintsPermittedRequiredCheckBox"
                        value="#{endEntityProfileMBean.useNameConstraintsPermittedRequired}"
                        disabled="#{not endEntityProfileMBean.useNameConstraintsPermitted or endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel
                        for="nameConstraintsPermittedRequiredCheckBox"
                        value="#{web.text.REQUIRED}" />
                </h:panelGrid>
	            &nbsp;
	            <h:panelGroup id="nameConstraintsExcludedGroup">
                    <h:outputText
                        value="#{web.text.EXT_PKIX_NC_EXCLUDED}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Name_Constraints')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="nameConstraintsExcludedGrid"
                    columns="4">
                    <h:selectBooleanCheckbox
                        id="useNameConstraintsExcludedCheckBox"
                        value="#{endEntityProfileMBean.useNameConstraintsExcluded}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax render="nameConstraintsExcludedGrid" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel
                        for="useNameConstraintsExcludedCheckBox"
                        value="#{web.text.USE}" />
                    <h:selectBooleanCheckbox
                        id="nameConstraintsExcludedRequiredCheckBox"
                        value="#{endEntityProfileMBean.useNameConstraintsExcludedRequired}"
                        disabled="#{not endEntityProfileMBean.useNameConstraintsExcluded or endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel
                        for="nameConstraintsExcludedRequiredCheckBox"
                        value="#{web.text.REQUIRED}" />
                </h:panelGrid>
	            &nbsp;
	            <h:panelGroup id="customCertificateExtensionDataGroup">
                    <h:outputText
                        value="#{web.text.CERT_EXTENSIONDATA_CUSTOM}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Custom_Certificate_Extension_Data')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="customCertificateExtensionDataGrid"
                    columns="2">
                    <h:selectBooleanCheckbox
                        id="useCustomCertificateExtensionDataCheckBox"
                        value="#{endEntityProfileMBean.profiledata.useExtensiondata}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel
                        for="useCustomCertificateExtensionDataCheckBox"
                        value="#{web.text.USE}" />
                </h:panelGrid>
	           	&nbsp;
	            <h:panelGroup id="psd2QcStatementGroup">
                    <h:outputText value="#{web.text.EXT_ETSI_QCS_PSD2}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#PSD2QualifiedCertificateStatement')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="psd2QcStatementSelectGroup" columns="2">
                    <h:selectBooleanCheckbox
                        id="usePsd2QcStatementCheckBox"
                        value="#{endEntityProfileMBean.usePsd2QcStatement}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="usePsd2QcStatementCheckBox"
                        value="#{web.text.USE}" />
                </h:panelGrid>
	            &nbsp;
	            <h:panelGroup id="cabfOrgIdentLabelGroup">
                    <h:outputText
                        value="#{web.text.EXT_CABF_ORGANIZATION_IDENTIFIER}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#CABFOrganizationIdentifier')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="cabfOrgIdentGrid" columns="8">
                    <h:selectBooleanCheckbox id="cabfOrgIdentCheckbox"
                        value="#{endEntityProfileMBean.profiledata.cabfOrganizationIdentifierUsed}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax render="cabfOrgIdentGrid" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="cabfOrgIdentCheckbox"
                        value="#{web.text.USE} : " />
                    <h:outputLabel for="cabfOrgIdentValue"
                        value="#{web.text.VALUE}" />
                    <h:inputText id="cabfOrgIdentValue"
                        value="#{endEntityProfileMBean.profiledata.cabfOrganizationIdentifier}"
                        size="25" maxlength="50"
                        title="#{web.text.FORMAT_CABFORGANIZATIONIDENTIFIER}"
                        pt:pattern="#{endEntityProfileMBean.cabfOrganizationIdentifierRegex}"
                        disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.profiledata.cabfOrganizationIdentifierUsed}">
                        <f:ajax />
                    </h:inputText>
                    <h:selectBooleanCheckbox
                        id="cabfOrgIdentReqCheckBox"
                        value="#{endEntityProfileMBean.profiledata.cabfOrganizationIdentifierRequired}"
                        disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.profiledata.cabfOrganizationIdentifierUsed}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel
                        for="cabfOrgIdentReqCheckBox"
                        value="#{web.text.REQUIRED}" />
                    <h:selectBooleanCheckbox
                        id="cabfOrgIdentModCheckBox"
                        value="#{endEntityProfileMBean.profiledata.cabfOrganizationIdentifierModifiable}"
                        disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.profiledata.cabfOrganizationIdentifierUsed}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="cabfOrgIdentModCheckBox"
                        value="#{web.text.MODIFYABLE}" />
                </h:panelGrid>
            </h:panelGrid>

            <!-- OTHER DATA -->

            <h:panelGrid id="header_otherdata" columns="3"
                styleClass="edit-top" cellspacing="3" cellpadding="3"
                border="0" width="100%" rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup>
                    <h:outputText value="&nbsp;" escape="false"></h:outputText>
                </h:panelGroup>
                <h:outputText value="#{web.text.OTHERDATA}"
                    style="font-weight: bold;" />
                <h:panelGroup>
						&nbsp;
				</h:panelGroup>
				&nbsp;
				<h:panelGroup id="numberOfAllowedRequestsGroup">
                    <h:outputText value="#{web.text.ALLOWEDREQUESTS}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Number_of_Allowed_Requests')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="numberOfAllowedRequestsGrid"
                    columns="6" styleClass="alignmiddle">
                    <h:selectBooleanCheckbox
                        id="numberOfAllowedRequestsCheckBox"
                        value="#{endEntityProfileMBean.useNumberOfAllowedRequests}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax render="numberOfAllowedRequestsGrid" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="numberOfAllowedRequestsCheckBox"
                        value="#{web.text.USE} : " />
                    <h:outputLabel for="numberOfAllowedRequestsMenu"
                        value="#{web.text.DEFAULT} = " />
                    <h:selectOneMenu id="numberOfAllowedRequestsMenu"
                        value="#{endEntityProfileMBean.currentNumberOfAllowedRequests}"
                        disabled="#{not endEntityProfileMBean.useNumberOfAllowedRequests or endEntityProfileMBean.viewOnly}">
                        <f:selectItems id="numberOfAllowedRequestsList"
                            value="#{endEntityProfileMBean.selectableNumberOfAllowedRequests}" />
                    </h:selectOneMenu>
                </h:panelGrid>
				&nbsp;
				<h:panelGroup id="keyRecoverableGroup"
                    rendered="#{endEntityProfileMBean.keyRecoverableSystemConfigured}">
                    <h:outputText value="#{web.text.KEYRECOVERABLE}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/Key_Recovery.html')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="keyRecoverableGrid" columns="11"
                    rendered="#{endEntityProfileMBean.keyRecoverableSystemConfigured}">
                    <h:selectBooleanCheckbox id="keyRecoverableCheckBox"
                        value="#{endEntityProfileMBean.useKeyRecoverable}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax render="keyRecoverableGrid" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="keyRecoverableCheckBox"
                        value="#{web.text.USE} : " />
                    <h:outputLabel for="keyRecoverableDefaultCheckBox"
                        value="#{web.text.DEFAULT} = " />
                    <h:selectBooleanCheckbox
                        id="keyRecoverableDefaultCheckBox"
                        value="#{endEntityProfileMBean.keyRecoverableDefault}"
                        disabled="#{not endEntityProfileMBean.useKeyRecoverable or endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
					&nbsp;
					<h:selectBooleanCheckbox id="reuseOldCertCheckBox"
                        value="#{endEntityProfileMBean.profiledata.reUseKeyRecoveredCertificate}"
                        disabled="#{not endEntityProfileMBean.useKeyRecoverable or endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="reuseOldCertCheckBox"
                        value="#{web.text.REUSEOLDCERTIFICATE}" />
                    <h:selectBooleanCheckbox
                        id="keyRecoverableRequiredCheckBox"
                        value="#{endEntityProfileMBean.keyRecoverableRequired}"
                        disabled="#{not endEntityProfileMBean.useKeyRecoverable or endEntityProfileMBean.viewOnly }">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="keyRecoverableRequiredCheckBox"
                        value="#{web.text.REQUIRED}" />
                </h:panelGrid>
                <h:outputText value="&nbsp;"
                    rendered="#{endEntityProfileMBean.keyRecoverableSystemConfigured}" />
                <h:panelGroup id="revocationReasonAfterIssuanceGroup">
                    <h:outputText
                        value="#{web.text.ISSUANCEREVOCATIONREASON}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/End_Entity_Profiles_Fields.html#Revocation_Reason_to_set_After_Certificate_Issuance')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="revocationReasonAfterIssuanceGrid"
                    columns="8">
                    <h:selectBooleanCheckbox
                        id="useRevocationReasonAfterIssuanceCheckBox"
                        value="#{endEntityProfileMBean.useRevocationReasonAfterIssuance}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax
                            render="revocationReasonAfterIssuanceGrid" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel
                        for="useRevocationReasonAfterIssuanceCheckBox"
                        value="#{web.text.USE} : " />
                    <h:outputLabel for="revocationReasonMenu"
                        value="#{web.text.VALUE} = " />
                    <h:selectOneMenu id="revocationReasonMenu"
                        value="#{endEntityProfileMBean.currentRevocationReason}"
                        disabled="#{not endEntityProfileMBean.useRevocationReasonAfterIssuance or endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                        <f:selectItems id="revocationReasonList"
                            value="#{endEntityProfileMBean.revocationReasons}" />
                    </h:selectOneMenu>
                    <h:selectBooleanCheckbox
                        id="revocationReasonModifiableCheckBox"
                        value="#{endEntityProfileMBean.revocationReasonModifiable}"
                        disabled="#{not endEntityProfileMBean.useRevocationReasonAfterIssuance or endEntityProfileMBean.viewOnly}">
                    </h:selectBooleanCheckbox>
                    <h:outputLabel
                        for="revocationReasonModifiableCheckBox"
                        value="#{web.text.MODIFYABLE}" />
                </h:panelGrid>
                <h:panelGroup id="sendNotificationsDeleteAllGroup">
                    <h:commandButton
                        id="sendNotificationsDeleteAllButton"
                        value="#{web.text.DELETEALL}"
                        action="#{endEntityProfileMBean.removeAllNotifications}"
                        rendered="#{not empty endEntityProfileMBean.userNotifications and not endEntityProfileMBean.viewOnly}"
                        disabled="#{not endEntityProfileMBean.useSendNotification}">
                        <f:ajax
                            render="userNotificationsWrapper sendNotificationsDeleteAllGroup sendNotificationGrid" />
                    </h:commandButton>
                </h:panelGroup>
                <h:panelGroup id="sendNotificationGroup">
                    <h:outputText style="font-weight: bold;"
                        value="#{web.text.SENDNOTIFICATION}" />
					&nbsp;
					<h:outputText
                        value="#{web.ejbcaWebBean.getHelpReference('/E-mail_Notifications.html')}"
                        escape="false" />
                </h:panelGroup>
                <h:panelGrid id="sendNotificationGrid" columns="12">
                    <h:selectBooleanCheckbox
                        id="sendNotificationCheckBox"
                        value="#{endEntityProfileMBean.useSendNotification}"
                        disabled="#{endEntityProfileMBean.viewOnly}">
                        <f:ajax
                            render="sendNotificationGrid userNotificationsWrapper sendNotificationsDeleteAllGroup" />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel for="sendNotificationCheckBox"
                        value="#{web.text.USE} : " />
                    <h:outputLabel for="sendNotificationDefaultCheckBox"
                        value="#{web.text.DEFAULT} = " />
                    <h:selectBooleanCheckbox
                        id="sendNotificationDefaultCheckBox"
                        value="#{endEntityProfileMBean.sendNotificationDefault}"
                        disabled="#{not endEntityProfileMBean.useSendNotification or endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                    </h:selectBooleanCheckbox>
					&nbsp;
					<h:selectBooleanCheckbox id="sendNotificationRequiredCheckBox"
                        value="#{endEntityProfileMBean.sendNotificationRequired}"
                        disabled="#{not endEntityProfileMBean.useSendNotification or endEntityProfileMBean.viewOnly}">
                        <f:ajax />
                    </h:selectBooleanCheckbox>
                    <h:outputLabel
                        for="sendNotificationRequiredCheckBox"
                        value="#{web.text.REQUIRED}" />
                    <h:commandButton id="addButton"
                        value="#{endEntityProfileMBean.notificationAdded ? web.text.ADDANOTHER : web.text.ADD}"
                        action="#{endEntityProfileMBean.addNotification}"
                        rendered="#{not endEntityProfileMBean.viewOnly}"
                        disabled="#{not endEntityProfileMBean.useSendNotification}">
                        <f:ajax
                            render="userNotificationsWrapper sendNotificationsDeleteAllGroup sendNotificationGrid" />
                    </h:commandButton>
                    <h:panelGroup styleClass="errorMessage" layout="block" rendered="${endEntityProfileMBean.emailConfigurationMissing}">
                        <h:outputText value="${web.text.MISSING_EMAIL_CONFIGURATION}"/>
                    </h:panelGroup>
                </h:panelGrid>
            </h:panelGrid>
            <h:panelGroup id="userNotificationsWrapper">
                <ui:repeat var="userNotification"
                    value="#{endEntityProfileMBean.userNotifications}">
                    <h:panelGrid columns="3" cellspacing="3"
                        cellpadding="3" border="0" width="100%"
                        rowClasses="Row0,Row1"
                        columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                        <h:column>
                            <h:commandButton
                                id="removeSendNotificationButton"
                                value="#{web.text.DELETE}"
                                action="#{endEntityProfileMBean.removeNotification(userNotification)}"
                                rendered="#{not endEntityProfileMBean.viewOnly}"
                                disabled="#{not endEntityProfileMBean.useSendNotification}">
                                <f:ajax
                                    render=":eeProfiles:userNotificationsWrapper :eeProfiles:sendNotificationsDeleteAllGroup :eeProfiles:sendNotificationGrid" />
                            </h:commandButton>
                        </h:column>
                        <h:outputLabel for="textFieldNotificationSender"
                            value="#{web.text.NOTIFICATIONSENDER}" />
                        <h:inputText id="textFieldNotificationSender"
                            value="#{userNotification.notificationSender}"
                            size="25" maxlength="40" required="true"
                            requiredMessage="#{web.text.MUSTFILLINANOTIFICATIONSENDER}"
                            title="#{web.text.FORMAT_EMAILADDRESS}"
                            disabled="#{not endEntityProfileMBean.useSendNotification or endEntityProfileMBean.viewOnly}">
                            <f:converter converterId="trimConverter" />
                            <f:ajax />
                        </h:inputText>
					&nbsp;
					<h:outputLabel for="textFieldNotificationRecipient"
                            value="#{web.text.NOTIFICATIONRECIPIENT}" />
                        <h:inputText id="textFieldNotificationRecipient"
                            value="#{userNotification.notificationRecipient}"
                            size="25" maxlength="40" required="true"
                            requiredMessage="#{web.text.MUSTFILLINANOTIFICATIONRECIPIENT}"
                            title="#{web.text.FORMAT_EMAILADDRESSORUSER}"
                            disabled="#{not endEntityProfileMBean.useSendNotification or endEntityProfileMBean.viewOnly}">
                            <f:converter converterId="trimConverter" />
                            <f:ajax />
                        </h:inputText>
					&nbsp;
					<h:outputLabel for="notificationEventsListbox"
                            value="#{web.text.NOTIFICATIONEVENTS}" />
                        <h:selectManyListbox
                            id="notificationEventsListbox"
                            value="#{userNotification.notificationEventsCollection}"
                            disabled="#{not endEntityProfileMBean.useSendNotification or endEntityProfileMBean.viewOnly}">
                            <f:selectItems id="notificationEventsList"
                                value="#{endEntityProfileMBean.allNotificationEvents}"
                                disabled="#{not endEntityProfileMBean.useSendNotification or endEntityProfileMBean.viewOnly}">
                            </f:selectItems>
                            <f:ajax />
                        </h:selectManyListbox>
	       	    	&nbsp;
					<h:outputLabel for="textFieldNotificationSubject"
                            value="#{web.text.NOTIFICATIONSUBJECT}" />
                        <h:inputText id="textFieldNotificationSubject"
                            value="#{userNotification.notificationSubject}"
                            size="25" maxlength="40" required="true"
                            requiredMessage="#{web.text.MUSTFILLINANOTIFICATIONSUBJECT}"
                            title="#{web.text.FORMAT_STRING}"
                            disabled="#{not endEntityProfileMBean.useSendNotification or endEntityProfileMBean.viewOnly}">
                            <f:converter converterId="trimConverter" />
                            <f:ajax />
                        </h:inputText>
					&nbsp;
				    <h:outputLabel for="textAreaNotificationMessage"
                            value="#{web.text.NOTIFICATIONMESSAGE}" />
                        <h:inputTextarea
                            id="textAreaNotificationMessage"
                            value="#{userNotification.notificationMessage}"
                            cols="45" rows="8" required="true"
                            requiredMessage="#{web.text.MUSTFILLINANOTIFICATIONMESSAGE}"
                            disabled="#{not endEntityProfileMBean.useSendNotification or endEntityProfileMBean.viewOnly}">
                            <f:ajax />
                        </h:inputTextarea>
                    </h:panelGrid>
                </ui:repeat>
            </h:panelGroup>
            <h:panelGrid id="header_otherdata2" columns="3"
                cellspacing="3" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:outputLabel>&nbsp;</h:outputLabel>
                <h:panelGrid id="printingGrid1" width="100%" columns="1">
                    <h:panelGroup>
                        <h:outputText style="font-weight: bold;"
                            value="#{web.text.PRINTING}" />
                    </h:panelGroup>
                    <h:panelGroup>
                        <h:outputLabel for="printerMenu"
                            value="#{web.text.PRINTERNAME}" />
                    </h:panelGroup>
					&nbsp;
					<h:panelGroup>
                        <h:outputLabel for="printedCopiesMenu"
                            value="#{web.text.PRINTEDCOPIES}" />
                    </h:panelGroup>
					&nbsp;
					<h:panelGroup>
                        <h:outputLabel for="printingCurrentTemplate"
                            value="#{web.text.CURRENTTEMPLATE}" />
                    </h:panelGroup>
                    <br />
                </h:panelGrid>
                <h:panelGrid id="printingGrid2" width="100%" columns="1">
                    <h:panelGroup>
                        <h:selectBooleanCheckbox
                            id="printUserDataCheckBox"
                            value="#{endEntityProfileMBean.usePrintUserData}"
                            disabled="#{endEntityProfileMBean.viewOnly}">
                            <f:ajax
                                render="printingGrid2 templateUploadGrid" />
                        </h:selectBooleanCheckbox>
                        <h:outputLabel for="printUserDataCheckBox"
                            value="#{web.text.USE} : " />
                        <h:outputLabel
                            for="printUserDataDefaultCheckBox"
                            value="#{web.text.DEFAULT} = " />
                        <h:selectBooleanCheckbox
                            id="printUserDataDefaultCheckBox"
                            value="#{endEntityProfileMBean.printUserDataDefault}"
                            disabled="#{not endEntityProfileMBean.usePrintUserData or endEntityProfileMBean.viewOnly}">
                        </h:selectBooleanCheckbox>
						&nbsp;
						<h:selectBooleanCheckbox id="printUserDataRequiredCheckBox"
                            value="#{endEntityProfileMBean.printUserDataRequired}"
                            disabled="#{not endEntityProfileMBean.usePrintUserData or endEntityProfileMBean.viewOnly}">
                        </h:selectBooleanCheckbox>
                        <h:outputLabel
                            for="printUserDataRequiredCheckBox"
                            value="#{web.text.REQUIRED}" />
                    </h:panelGroup>
                    <h:selectOneMenu id="printerMenu"
                        value="#{endEntityProfileMBean.currentPrinter}"
                        disabled="#{not endEntityProfileMBean.usePrintUserData or endEntityProfileMBean.viewOnly}">
                        <f:selectItems id="printerList"
                            value="#{endEntityProfileMBean.printers}"
                            disabled="#{not endEntityProfileMBean.usePrintUserData or endEntityProfileMBean.viewOnly}" />
                    </h:selectOneMenu>
                    <h:selectOneMenu id="printedCopiesMenu"
                        value="#{endEntityProfileMBean.currentNumberCopies}"
                        disabled="#{not endEntityProfileMBean.usePrintUserData or endEntityProfileMBean.viewOnly}">
                        <f:selectItems id="printedCopiesNumberList"
                            value="#{endEntityProfileMBean.numberOfCopies}"
                            disabled="#{not endEntityProfileMBean.usePrintUserData or endEntityProfileMBean.viewOnly}" />
                    </h:selectOneMenu>
					&nbsp;
					<h:outputText id="printingCurrentTemplate"
                        value="#{endEntityProfileMBean.currentTemplate}" />
                </h:panelGrid>
            </h:panelGrid>
            <h:panelGrid id="templateUploadGrid" columns="3"
                cellspacing="3" cellpadding="3" border="0" width="100%"
                rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup>&nbsp;</h:panelGroup>
                <h:panelGroup>
                    <h:outputLabel for="templateUploadInput"
                        value="#{web.text.PATHTOTEMPLATE}" />
                </h:panelGroup>
                <h:panelGroup>
                    <h:inputFile id="templateUploadInput"
                        value="#{endEntityProfileMBean.templateFileUpload}"
                        size="20"
                        disabled="#{endEntityProfileMBean.viewOnly or not endEntityProfileMBean.usePrintUserData}" />
                    <h:commandButton id="uploadTemplateButton"
                        value="#{web.text.UPLOADTEMPLATE}"
                        action="#{endEntityProfileMBean.uploadTemplate}"
                        rendered="#{not endEntityProfileMBean.viewOnly}"
                        disabled="#{not endEntityProfileMBean.usePrintUserData}" />
                </h:panelGroup>
            </h:panelGrid>
            <h:panelGrid id="header_saveorcancel" columns="3"
                styleClass="edit-top" cellspacing="3" cellpadding="3"
                border="0" width="100%" rowClasses="Row0,Row1"
                columnClasses="editColumn-eeProfile1, editColumn-eeProfile2, editColumn-eeProfile3">
                <h:panelGroup>&nbsp;</h:panelGroup>
                <h:panelGroup>&nbsp;</h:panelGroup>
                <h:panelGrid id="saveOrCancelGrid" columns="2">
                    <h:commandButton id="saveButton"
                        value="#{web.text.SAVE}"
                        action="#{endEntityProfileMBean.saveProfile}"
                        rendered="#{not endEntityProfileMBean.viewOnly}" />
                    <h:commandButton id="cancelButton"
                        value="#{web.text.CANCEL}"
                        action="#{endEntityProfileMBean.cancel}"
                        immediate="true"
                        pt:formnovalidate="formnovalidate" />
                </h:panelGrid>
            </h:panelGrid>
        </h:form>
    </ui:define>
</ui:composition>
</html>
