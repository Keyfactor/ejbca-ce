<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:remove>
    <!--
    /*************************************************************************
     *                                                                       *
     *  EJBCA: The OpenSource Certificate Authority                          *
     *                                                                       *
     *  This software is free software; you can redistribute it and/or       *
     *  modify it under the terms of the GNU Lesser General Public           *
     *  License as published by the Free Software Foundation; either         *
     *  version 2.1 of the License, or any later version.                    *
     *                                                                       *
     *  See terms of license at gnu.org.                                     *
     *                                                                       *
     *************************************************************************/

     version: $Id$
     -->
    </ui:remove>
    <ui:composition template="/WEB-INF/include/template.xhtml">
        <ui:define name="content">
            <h:panelGroup layout="block" class="header" id="title" rendered="#{raAccessBean.authorizedToEnroll}">
                <h1><h:outputText value="#{msg.welcome_page_header}"/></h1>
            </h:panelGroup>
            <script>
    			var messageshowmore = '#{msg.enroll_render_non_modifiable_button_show}';
    			var messagehidemore = '#{msg.enroll_render_non_modifiable_button_hide}';
    		</script>
    		
            <h:panelGroup layout="block" class="content-body" id="content-body-request" rendered="#{raAccessBean.authorizedToEnrollMakeRequest}">
                <h2><h:outputText value="Request new certificate"/></h2>
                <h:panelGroup layout="block" styleClass="internal-frame">
					<h:panelGroup layout="block" id="makeRequestButtonGroup">
					        <h:outputLink value="enrollmakenewrequest.xhtml" id="makeRequestButton" styleClass="pure-button ra-button">
					        <h:outputText value="#{msg.menu_pagetitle_enroll_make_new_request}"/>
			                </h:outputLink>
                            <h:commandButton onclick="ejbca.ra.toggleDetails(this, messageshowmore, messagehidemore);" id="expandRequest"
                                value="#{msg.enroll_render_non_modifiable_button_hide}"
                                styleClass="toggleMoreButton"/>
					</h:panelGroup>
					<h:panelGroup id="expandRequestDetails" layout="block" style="display: block" styleClass="pure-control-group">
				        <h:outputText value="If you need to request a new certificate you use the function to make a new request. The types of certificates you can request depends on your privileges."/>
				        <h:outputText value="After making a request, your request is sent for approval, or if you have enough privileges is approved immediately."/>
				        <h:outputText value="When a request has been submitted for approval, you will be given a requestID. Save this requestID and use it to check the status of your request."/>
					</h:panelGroup>
					<script>ejbca.ra.toggleDetails(document.getElementById("expandRequest"), messageshowmore, messagehidemore);</script>
				</h:panelGroup>
	        </h:panelGroup>
            <h:panelGroup layout="block" class="content-body" id="content-body-requeststatus" rendered="#{raAccessBean.authorizedToEnrollWithRequestId}">
   	            <h2><h:outputText value="Status of a certificate request"/></h2>
                <h:panelGroup layout="block" styleClass="internal-frame">
					<h:panelGroup layout="block" id="requestStatusButtonGroup">
					        <h:outputLink value="enrollwithrequestid.xhtml" id="requestStatusButton" styleClass="pure-button ra-button">
					        <h:outputText value="#{msg.menu_pagetitle_enroll_use_request_id}"/>
			                </h:outputLink>
                            <h:commandButton onclick="ejbca.ra.toggleDetails(this, messageshowmore, messagehidemore);" id="expandStatus"
                                value="#{msg.enroll_render_non_modifiable_button_hide}"
                                styleClass="toggleMoreButton"/>
					</h:panelGroup>
					<h:panelGroup id="expandStatusDetails" layout="block" style="display: block" styleClass="pure-control-group">
				        <h:outputText value="When you want to see the status of a request you have submitted. You can enter your requestID. If the request is not yet approved you will be provided with a status message."/>
				        <h:outputText value="If you request has been approved you will be given the ability to finalize your request, which means retrieving the certificate for download."/>
		            </h:panelGroup>
					<script>ejbca.ra.toggleDetails(document.getElementById("expandStatus"), messageshowmore, messagehidemore);</script>
				</h:panelGroup>
	        </h:panelGroup>
            <h:panelGroup layout="block" class="content-body" id="content-body-revocation" rendered="#{raAccessBean.authorizedToSearch}">
   	            <h2><h:outputText value="Revoke existing certificate"/></h2>
                <h:panelGroup layout="block" styleClass="internal-frame">
					<h:panelGroup layout="block" id="searchCertsButtonGroup">
					        <h:outputLink value="search_certs.xhtml" id="searchCertsButton" styleClass="pure-button ra-button">
					        <h:outputText value="#{msg.search_certs_page_title}"/>
			                </h:outputLink>
                            <h:commandButton onclick="ejbca.ra.toggleDetails(this, messageshowmore, messagehidemore);" id="expandSearch"
                                value="#{msg.enroll_render_non_modifiable_button_hide}"
                                styleClass="toggleMoreButton"/>
					</h:panelGroup>
					<h:panelGroup id="expandSearchDetails" layout="block" style="display: block" styleClass="pure-control-group">
				        <h:outputText value="In order to revoke a certificate you first find the certificate you want to revoke using the Search function."/>
				        <h:outputText value="Once the certificate is found you can request revocation, which happens immediately if you have this privilege while looking at the certificate details."/>
		            </h:panelGroup>
					<script>ejbca.ra.toggleDetails(document.getElementById("expandSearch"), messageshowmore, messagehidemore);</script>
				</h:panelGroup>
	        </h:panelGroup>
	        

        <!-- Testing stuff below -->
        <ui:remove>
        	<h:panelGroup layout="block" class="header">
				<h1>A Title!</h1>
			</h:panelGroup>	
        	<h:panelGroup layout="block" class="content-body">
				<h2 class="content-body-subhead">Generic Sample Text!</h2>
	            <h:outputText value="#{msg.generic_sampleText}"/>
		       
		       	 <h2 class="content-body-subhead">Other stuff!</h2>
		       	  	
		        <h:form>
	                <h:commandButton action="#{raExampleBean.throwException}" value="Throw Exception (to test error handling)"/>
	            </h:form>
		 	  	
		        <h:outputLabel value="[is authorized to root, method 2]" rendered="#{raAccessBean.authorizedToRootTEST}"/>
		        
		        <!-- Demo of a paragraph -->
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
					Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure 
					dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
					 proident, sunt in culpa qui officia deserunt mollit anim id est laborum. 
				</p>
				
				<!-- An aligned form -->
				<h2 class="content-body-subhead">An aligned form!</h2>			
				<form class="pure-form pure-form-aligned">
	    			<fieldset>
		        		<div class="pure-control-group">
		           	 		<label for="name">Username</label>
		            		<input id="name" type="text" placeholder="Username"/>
		        		</div>
		
		       			 <div class="pure-control-group">
		            		<label for="password">Password</label>
		            		<input id="password" type="password" placeholder="Password" />
		       			 </div>
	         		</fieldset>
				</form>	
				
				<h2 class="content-body-subhead">An grouped form!</h2>			
				<!-- A grouped form -->		
				<form class="pure-form">
				    <fieldset class="pure-group">
				        <input type="text" class="pure-input-1-2" placeholder="E-Mail Subject" />
				        <textarea class="pure-input-1-2" placeholder="Content"></textarea>
				    </fieldset>
				</form>
				<h2 class="content-body-subhead">Tables!</h2>			
				
				<table class="pure-table">
				    <thead>
				        <tr>
				            <th>Username</th>
				            <th>CA</th>
				            <th>Subject DN</th>
				            <th>Status</th>
				        </tr>
				    </thead>
				
				    <tbody>
				        <tr class="pure-table-odd">
				            <td>SuperAdmin</td>
				            <td>ManagementCA</td>
				            <td>Accord</td>
				            <td>Generated</td>
				        </tr>
				
				        <tr>
				            <td>Alice</td>
				            <td>AliceCA</td>
				            <td>CN=Alice,O=AliceCorp,C=SE</td>
				            <td>Generated</td>
				        </tr>
				
				        <tr class="pure-table-odd">
				            <td>Bob</td>
				            <td>BobCA</td>
				            <td>CN=Bob,O=BobCorp,C=SE</td>
				            <td>New</td>
				        </tr>
						       
				    </tbody>
				</table>
	        </h:panelGroup>
        </ui:remove>
	         
        </ui:define>
    </ui:composition>
</html>
