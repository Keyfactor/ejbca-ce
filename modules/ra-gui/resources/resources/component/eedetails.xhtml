<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:component="http://xmlns.jcp.org/jsf/composite/component">
    <ui:remove>
    <!--
    /*************************************************************************
     *                                                                       *
     *  EJBCA: The OpenSource Certificate Authority                          *
     *                                                                       *
     *  This software is free software; you can redistribute it and/or       *
     *  modify it under the terms of the GNU Lesser General Public           *
     *  License as published by the Free Software Foundation; either         *
     *  version 2.1 of the License, or any later version.                    *
     *                                                                       *
     *  See terms of license at gnu.org.                                     *
     *                                                                       *
     *************************************************************************/
     -->
    </ui:remove>
    <f:view locale="#{raLocaleBean.locale}" encoding="UTF-8">
    <h:head dir="#{raLocaleBean.direction}"/>
    <h:body>
        <composite:interface>
            <composite:attribute name="raEndEntityDetails" required="true" />
            <composite:attribute name="raEndEntityIssuedCerts" required="true" />
            <composite:attribute name="editMode" required="false" default="false" />
            <composite:attribute name="approvalRequestMode" required="false" default="false" />
            <composite:attribute name="styleLabel" required="false" default="pure-u-lg-1-3" />
            <composite:attribute name="styleValue" required="false" default="pure-u-lg-2-3 ra-outputText" />
            <composite:attribute name="styleFull" required="false" default="pure-u-lg-1" />
            <composite:attribute name="styleOdd" required="false" default="row-odd" />
            <composite:attribute name="styleEven" required="false" default="row-even" />
            <composite:attribute name="styleTable" required="false" default="ra-eeCertTable" />
            <composite:attribute name="raEndEntityBean" required="false" default="#{null}" />
        </composite:interface>

        <composite:implementation>
            <h:outputLabel for="username" value="#{msg.component_eedetails_field_username}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup id="username"
                rendered="#{cc.attrs.approvalRequestMode or !cc.attrs.editMode }"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}">
                <h:outputText value="#{cc.attrs.raEndEntityDetails.username} "/>
                <h:outputLink value="endentity.xhtml" styleClass="fineprint">
                    <f:param name="ee" value="#{cc.attrs.raEndEntityDetails.username}"/>
                    <h:outputText value="#{msg.component_eedetails_link_perm}"/>
                </h:outputLink>
            </h:panelGroup>
            <h:panelGroup id="newUsername"
                          rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}  ra-editEndEntity">
                <h:inputText id="ajaxUsername" value="#{cc.attrs.raEndEntityBean.username}">
                    <f:ajax event="keyup" render="usernameWarning"/>
                    <f:validator validatorId="extendedRequiredValidator"/>
                    <f:attribute name="_required" value="true"/>
                </h:inputText>
                <h:outputText id="usernameWarning" value="#{cc.attrs.raEndEntityBean.usernameWarning} " styleClass="warning"/>
            </h:panelGroup>

            <h:outputLabel for="email" value="#{msg.component_eedetails_field_email}"
                           rendered="#{not cc.attrs.editMode and cc.attrs.raEndEntityDetails.emailEnabled}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="email"
                          value="#{cc.attrs.raEndEntityDetails.email}"
                          rendered="#{not cc.attrs.editMode and cc.attrs.raEndEntityDetails.emailEnabled and not empty cc.attrs.raEndEntityDetails.email}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup id="newEmail"
                          rendered="#{cc.attrs.editMode}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}  ra-editEndEntity subjects">
                <h:outputLabel value="#{msg.component_eedetails_field_email}"
                               rendered="#{cc.attrs.raEndEntityBean.emailUsed}"
                               styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
                <h:inputText value="#{cc.attrs.raEndEntityBean.emailName}"
                             rendered="#{cc.attrs.raEndEntityBean.emailUsed}"
                             disabled="#{not cc.attrs.raEndEntityBean.emailModifiable}"/>
                <h:outputText value=" @ " rendered="#{cc.attrs.raEndEntityBean.emailUsed}"/>
                <h:inputText value="#{cc.attrs.raEndEntityBean.emailDomain}"
                               rendered="#{cc.attrs.raEndEntityBean.emailUsed}"
                               disabled="#{not cc.attrs.raEndEntityBean.emailModifiable}"/>
            </h:panelGroup>

            <h:panelGroup layout="block" rendered="#{not cc.attrs.approvalRequestMode}">
                <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>
    
                <h:outputLabel for="created" value="#{msg.component_eedetails_field_created}"
                    styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
                <h:outputText id="created" value="#{cc.attrs.raEndEntityDetails.created}"
                    styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
                <h:outputLabel for="modified" value="#{msg.component_eedetails_field_modified}"
                    styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
                <h:outputText id="modified" value="#{cc.attrs.raEndEntityDetails.modified}"
                    styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

                <h:outputLabel for="status" value="#{msg.component_eedetails_field_status}"
                    styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"
                    rendered="#{!cc.attrs.editMode}" />
                <h:panelGroup styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"
                    rendered="#{!cc.attrs.editMode}">
                    <h:outputText id="status" value="#{cc.attrs.raEndEntityDetails.status}" />
                </h:panelGroup>

                <h:outputLabel for="statusChangeSelect" value="#{msg.component_eedetails_field_status}"
                    styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"
                    rendered="#{cc.attrs.editMode}" />
                <h:panelGroup
                    styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity"
                    rendered="#{cc.attrs.editMode}">
                    <h:selectOneMenu id="statusChangeSelect" value="#{cc.attrs.raEndEntityBean.selectedStatus}" styleClass="pure-input-1-4">
                        <f:selectItems value="#{cc.attrs.raEndEntityBean.selectableStatuses}" var="selectableStatus"
                            itemLabel="#{selectableStatus.statusString}" itemValue="#{selectableStatus.statusConstant}" />
                        <f:ajax event="change" />
                    </h:selectOneMenu>
                </h:panelGroup>

                <h:outputLabel for="enrollmentCode" value="#{msg.enroll_password}"
                    styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"
                    rendered="#{cc.attrs.editMode}" />
                <h:panelGroup
                    styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity">
                    <h:inputSecret id="enrollmentCode" rendered="#{cc.attrs.editMode and not cc.attrs.raEndEntityBean.passwordAutogenerated}"
                                   autocomplete="off" value="#{cc.attrs.raEndEntityBean.enrollmentCode}">
                        <f:ajax event="change" />
                    </h:inputSecret>
                    <h:selectBooleanCheckbox  for="checkboxAutogeneratedPassWord"
                    rendered="#{cc.attrs.editMode and cc.attrs.raEndEntityBean.passwordAutogenerated}" 
                        value="#{cc.attrs.raEndEntityBean.autogeneratedPasswordChecked}"> 
                        <f:ajax event="change"/></h:selectBooleanCheckbox> 
                    <h:outputText value="Autogenerated password" rendered="#{cc.attrs.editMode and cc.attrs.raEndEntityBean.passwordAutogenerated}"></h:outputText> 
                </h:panelGroup>

                <h:outputLabel for="enrollmentCodeConfirm" value="#{msg.enroll_confirm_password}"
                    styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"
                               rendered="#{cc.attrs.editMode and not cc.attrs.raEndEntityBean.passwordAutogenerated}"/>
                <h:panelGroup
                    styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity"
                    rendered="#{cc.attrs.editMode and not cc.attrs.raEndEntityBean.passwordAutogenerated}">
                    <h:inputSecret id="enrollmentCodeConfirm" autocomplete="off" value="#{cc.attrs.raEndEntityBean.enrollmentCodeConfirm}">
                        <f:ajax event="change" />
                    </h:inputSecret>
                </h:panelGroup>

            </h:panelGroup>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:outputLabel for="maxfailedlogin" value="#{msg.component_eedetails_field_max_failed_logins}"
                           rendered="#{not cc.attrs.approvalRequestMode}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="maxfailedlogin"
                rendered="#{not cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                value="#{cc.attrs.raEndEntityDetails.loginsMax lt 0 ? msg.component_eedetails_field_max_failed_unlimited : cc.attrs.raEndEntityDetails.loginsMax}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup id="maxfailedlogineditor" rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity">
                <h:selectOneRadio value="#{cc.attrs.raEndEntityBean.unlimited}" disabled="#{not cc.attrs.raEndEntityBean.maxFailedLoginsModifiable}">
                    <f:selectItem itemValue="#{true}" itemLabel="#{msg.component_eedetails_field_max_failed_unlimited} "/>
                    <f:selectItem itemValue="#{false}" itemLabel="#{msg.component_eedetails_field_max_failed_specify}"/>
                    <f:ajax event="change" render="maxnumber"/>
                </h:selectOneRadio>
                <h:inputText id="maxnumber" styleClass="next-to-radio" value="#{cc.attrs.raEndEntityBean.maxFailedLogins}" disabled="#{cc.attrs.raEndEntityBean.unlimited or not cc.attrs.raEndEntityBean.maxFailedLoginsModifiable}">
                    <f:validateLength minimum="1"/>
                </h:inputText>
            </h:panelGroup>

            <h:outputLabel for="remaininglogin" value="#{msg.component_eedetails_field_logins}"
                rendered="#{not cc.attrs.approvalRequestMode}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="remaininglogin"
                rendered="#{not cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                value="#{cc.attrs.raEndEntityDetails.loginsRemaining lt 0 ? msg.component_eedetails_field_max_failed_unlimited : cc.attrs.raEndEntityDetails.loginsRemaining}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity">
                <h:inputText id="remainingloginnumber"
                    styleClass="remaining-number-of-login-attempts"
                    value="#{cc.attrs.raEndEntityBean.remainingLogin}"
                    disabled="true"/>
                <h:selectBooleanCheckbox id="resetremaininglogin" value="#{cc.attrs.raEndEntityBean.resetRemainingLoginAttempts}"/>
                <h:outputText value="Reset login attempts"/>
            </h:panelGroup>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:outputLabel for="eepName" value="#{msg.component_eedetails_field_eep}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="eepName"
                rendered="#{not cc.attrs.editMode or cc.attrs.approvalRequestMode}"
                value="#{cc.attrs.raEndEntityDetails.eepName}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity"
                rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}">
                <h:selectOneMenu id="eepId" value="#{cc.attrs.raEndEntityBean.eepId}" styleClass="pure-input-1-4">
                    <f:selectItems value="#{cc.attrs.raEndEntityBean.endEntityProfiles.entrySet()}" var="eep" itemLabel="#{eep.value}" itemValue="#{eep.key}" />
                    <f:ajax event="change" render="newEmail maxfailedlogineditor cpId caId subjectDistinguishNames subjectAlternativeNames subjectDirectoryAttributes"/>
                </h:selectOneMenu>
            </h:panelGroup>

            <h:outputLabel for="cp" value="#{msg.component_eedetails_field_cp}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="cp" rendered="#{not cc.attrs.editMode or cc.attrs.approvalRequestMode}" value="#{cc.attrs.raEndEntityDetails.cpName}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity"
                rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}">
                <h:selectOneMenu id="cpId" value="#{cc.attrs.raEndEntityBean.cpId}" styleClass="pure-input-1-4">
                    <f:selectItems value="#{cc.attrs.raEndEntityBean.certificateProfiles.entrySet()}" var="cp" itemLabel="#{cp.value}" itemValue="#{cp.key}" />
                    <f:ajax render="caId"/>
                </h:selectOneMenu>
            </h:panelGroup>


            <h:outputLabel for="caname" value="#{msg.component_eedetails_field_caname}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="caname" rendered="#{not cc.attrs.editMode or cc.attrs.approvalRequestMode}" value="#{cc.attrs.raEndEntityDetails.caName}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup
                    styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity"
                    rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}">
                <h:selectOneMenu id="caId" value="#{cc.attrs.raEndEntityBean.caId}" styleClass="pure-input-1-4">
                    <f:selectItems value="#{cc.attrs.raEndEntityBean.certificateAuthorities.entrySet()}" var="ca" itemLabel="#{ca.value}" itemValue="#{ca.key}" />
                </h:selectOneMenu>
            </h:panelGroup>

            <h:outputLabel for="tokentype" value="#{msg.component_eedetails_field_tokentype}" rendered="#{!cc.attrs.editMode}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup id="tokentype" styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" rendered="#{!cc.attrs.editMode}">
	            <h:outputText value="#{cc.attrs.raEndEntityDetails.tokenType} #{msg['component_eedetails_field_keyrecoverable_'.concat(cc.attrs.raEndEntityDetails.keyRecoverable)]}" />
	            <h:commandLink action="#{cc.attrs.raEndEntityDetails.downloadCsr}" value="#{msg.component_eedetails_link_downloadcsr}" styleClass="fineprint" 
	                rendered="#{cc.attrs.raEndEntityDetails.csrSet}"/>
            </h:panelGroup>
            <h:outputLabel for="tokenTypeSelect" value="#{msg.component_eedetails_field_tokentype}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"
                rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}" />
            <h:panelGroup
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity"
                rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}">
                <h:selectOneMenu id="tokenTypeSelect" value="#{cc.attrs.raEndEntityBean.selectedTokenType}" styleClass="pure-input-1-4">
                    <f:selectItems value="#{cc.attrs.raEndEntityBean.selectableTokenTypes}" var="selectableTokenType"
                        itemLabel="#{selectableTokenType.tokenTypeString}" itemValue="#{selectableTokenType.tokenTypeConstant}" />
                    <f:ajax event="change" />
                </h:selectOneMenu>
            </h:panelGroup>

            <h:outputLabel for="keytype" value="#{msg.component_eedetails_field_keyalgorithm}"
                rendered="#{cc.attrs.raEndEntityDetails.keyType != null}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="keytype" value="#{cc.attrs.raEndEntityDetails.keyType}"
                rendered="#{cc.attrs.raEndEntityDetails.keyType != null}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="csrdn" value="#{msg.component_eedetails_field_csrdn}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" rendered="#{cc.attrs.raEndEntityDetails.csrSet}"/>
			<h:outputText id="csrdn" value="#{cc.attrs.raEndEntityDetails.dnFromCsr}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" rendered="#{cc.attrs.raEndEntityDetails.csrSet}"/>
            <h:outputLabel for="clearcsrcheckbox" value="#{msg.component_eedetails_field_clearcsr}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" rendered="#{cc.attrs.raEndEntityDetails.csrSet 
                	and not cc.attrs.approvalRequestMode}"/>
            <h:selectBooleanCheckbox id="clearcsrcheckbox" value="#{cc.attrs.raEndEntityBean.clearCsrChecked}" rendered="#{cc.attrs.editMode and cc.attrs.raEndEntityDetails.csrSet 
            		and not cc.attrs.approvalRequestMode}"
                styleClass="ra-clearCsrCheckbox"/>
			
            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <!--<h:outputLabel for="email" value="#{msg.component_eedetails_field_email}" rendered="#{cc.attrs.raEndEntityDetails.emailEnabled and not empty cc.attrs.raEndEntityDetails.email}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="email" value="#{cc.attrs.raEndEntityDetails.email}" rendered="#{cc.attrs.raEndEntityDetails.emailEnabled and not empty cc.attrs.raEndEntityDetails.email}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>-->
            <h:outputLabel for="notification" value="#{msg.component_eedetails_field_notification}" rendered="#{cc.attrs.raEndEntityDetails.sendNotificationEnabled}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="notification" rendered="#{cc.attrs.raEndEntityDetails.sendNotificationEnabled and (not cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                value="#{msg['component_eedetails_field_notification_'.concat(cc.attrs.raEndEntityDetails.sendNotification)]}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup
                    styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity"
                    rendered="#{cc.attrs.editMode and cc.attrs.raEndEntityDetails.sendNotificationEnabled and not cc.attrs.approvalRequestMode}">
                <h:selectBooleanCheckbox id="notificationcheckbox" value="#{cc.attrs.raEndEntityBean.sendNotification}"
                     disabled="#{cc.attrs.raEndEntityDetails.sendNotificationDisabled}"/>
            </h:panelGroup>

            <h:outputLabel for="certserialoverride" value="#{msg.component_eedetails_field_certserialoverride}"
                rendered="#{cc.attrs.raEndEntityDetails.certificateSerialNumberOverrideEnabled and not empty cc.attrs.raEndEntityDetails.certificateSerialNumberOverride}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="certserialoverride" value="#{cc.attrs.raEndEntityDetails.certificateSerialNumberOverride}"
                rendered="#{cc.attrs.raEndEntityDetails.certificateSerialNumberOverrideEnabled and not empty cc.attrs.raEndEntityDetails.certificateSerialNumberOverride}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="cleartextpassword" value="#{msg.component_eedetails_field_cleartextpassword}"
                rendered="#{cc.attrs.raEndEntityDetails.clearPasswordAllowed}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="cleartextpassword" value="#{cc.attrs.raEndEntityDetails.clearPasswordViewMode ? msg.component_eedetails_field_notification_true : msg.component_eedetails_field_notification_false}"
                rendered="#{cc.attrs.raEndEntityDetails.clearPasswordAllowed and ((not cc.attrs.editMode) or cc.attrs.approvalRequestMode)}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:panelGroup styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"
            	  rendered="#{cc.attrs.raEndEntityDetails.clearPasswordAllowed and cc.attrs.editMode}">
            	<h:selectBooleanCheckbox id="cleartextpasswordcheckbox" value="#{cc.attrs.raEndEntityDetails.clearPassword}"
                	disabled="#{cc.attrs.raEndEntityDetails.clearPasswordRequired}"/>
            </h:panelGroup>
		
            <h:outputLabel for="logins" value="#{msg.component_eedetails_field_logins}"
                rendered="#{cc.attrs.raEndEntityDetails.loginsMaxEnabled}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="logins" value="#{cc.attrs.raEndEntityDetails.loginsRemaining} / #{cc.attrs.raEndEntityDetails.loginsMax}"
                rendered="#{cc.attrs.raEndEntityDetails.loginsMaxEnabled}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputLabel for="overridenotbefore" value="#{msg.component_eedetails_field_overridenotbefore}"
                rendered="#{cc.attrs.raEndEntityDetails.overrideNotBeforeEnabled and not empty cc.attrs.raEndEntityDetails.overrideNotBefore}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="overridenotbefore" value="#{cc.attrs.raEndEntityDetails.overrideNotBefore}"
                rendered="#{cc.attrs.raEndEntityDetails.overrideNotBeforeEnabled and not empty cc.attrs.raEndEntityDetails.overrideNotBefore}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="overridenotafter" value="#{msg.component_eedetails_field_overridenotafter}"
                rendered="#{cc.attrs.raEndEntityDetails.overrideNotAfterEnabled and not empty cc.attrs.raEndEntityDetails.overrideNotAfter}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="overridenotafter" value="#{cc.attrs.raEndEntityDetails.overrideNotAfter}"
                rendered="#{cc.attrs.raEndEntityDetails.overrideNotAfterEnabled and not empty cc.attrs.raEndEntityDetails.overrideNotAfter}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputLabel for="cardnumber" value="#{msg.component_eedetails_field_cardnumber}"
                rendered="#{cc.attrs.raEndEntityDetails.cardNumberEnabled and not empty cc.attrs.raEndEntityDetails.cardNumber}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="cardnumber" value="#{cc.attrs.raEndEntityDetails.cardNumber}"
                rendered="#{cc.attrs.raEndEntityDetails.cardNumberEnabled and not empty cc.attrs.raEndEntityDetails.cardNumber}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputLabel for="nameConstraintsPermitted" value="#{msg.component_eedetails_field_nameconstraintspermitted}"
                rendered="#{cc.attrs.raEndEntityDetails.nameConstraintsPermittedEnabled and 
                					not cc.attrs.raEndEntityDetails.nameConstraintsPermittedRequired}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="nameConstraintsPermitted" value="#{msg.component_eedetails_field_nameconstraintspermitted} *"
                rendered="#{cc.attrs.raEndEntityDetails.nameConstraintsPermittedEnabled and 
                					cc.attrs.raEndEntityDetails.nameConstraintsPermittedRequired}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="nameConstraintsPermitted" value="#{cc.attrs.raEndEntityDetails.getNameConstraintsPermittedViewOnly()}"
                rendered="#{(cc.attrs.approvalRequestMode or !cc.attrs.editMode) and 
                						cc.attrs.raEndEntityDetails.nameConstraintsPermittedEnabled 
                						and not empty cc.attrs.raEndEntityDetails.nameConstraintsPermitted}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="nameConstraintsPermittedNone" value="None"
                rendered="#{(cc.attrs.approvalRequestMode or !cc.attrs.editMode) and 
                						cc.attrs.raEndEntityDetails.nameConstraintsPermittedEnabled 
                						and empty cc.attrs.raEndEntityDetails.nameConstraintsPermitted}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:inputTextarea id="newNameConstraintPermitted" rows="4" cols="38"
						value="#{cc.attrs.raEndEntityBean.nameConstraintsPermitted}"
             rendered="#{cc.attrs.editMode and cc.attrs.raEndEntityDetails.nameConstraintsPermittedEnabled}"
             styleClass="editNameConstraints #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}">
             	<f:ajax event="change" />
             </h:inputTextarea>
             
            <h:outputLabel for="nameConstraintsExcluded" value="#{msg.component_eedetails_field_nameconstraintsexcluded}"
                rendered="#{cc.attrs.raEndEntityDetails.nameConstraintsExcludedEnabled and 
                						not cc.attrs.raEndEntityDetails.nameConstraintsExcludedRequired}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="nameConstraintsExcluded" value="#{msg.component_eedetails_field_nameconstraintsexcluded} *"
                rendered="#{cc.attrs.raEndEntityDetails.nameConstraintsExcludedEnabled and 
                						cc.attrs.raEndEntityDetails.nameConstraintsExcludedRequired}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="nameConstraintsExcluded" value="#{cc.attrs.raEndEntityDetails.getNameConstraintsExcludedViewOnly()}"
                rendered="#{(cc.attrs.approvalRequestMode or !cc.attrs.editMode) and 
                						cc.attrs.raEndEntityDetails.nameConstraintsExcludedEnabled 
                						and not empty cc.attrs.raEndEntityDetails.nameConstraintsExcluded}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="nameConstraintsExcludedNone" value="None"
                rendered="#{(cc.attrs.approvalRequestMode or !cc.attrs.editMode) and 
                						cc.attrs.raEndEntityDetails.nameConstraintsExcludedEnabled 
                						and empty cc.attrs.raEndEntityDetails.nameConstraintsExcluded}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:inputTextarea id="newNameConstraintExcluded" rows="4" cols="38"
						value="#{cc.attrs.raEndEntityBean.nameConstraintsExcluded}"
             rendered="#{cc.attrs.editMode and cc.attrs.raEndEntityDetails.nameConstraintsExcludedEnabled}"
             styleClass="editNameConstraints #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}">
             	<f:ajax event="change" />
             </h:inputTextarea>
              
            <h:outputLabel for="allowedrequests" value="#{msg.component_eedetails_field_allowedrequests}"
                rendered="#{cc.attrs.raEndEntityDetails.allowedRequestsEnabled}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="allowedrequests" value="#{cc.attrs.raEndEntityDetails.allowedRequestsUsed} / #{cc.attrs.raEndEntityDetails.allowedRequests}"
                rendered="#{cc.attrs.raEndEntityDetails.allowedRequestsEnabled}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputLabel for="issuancerevocation" value="#{msg.component_eedetails_field_issuancerevocation}"
                rendered="#{cc.attrs.raEndEntityDetails.issuanceRevocationReasonEnabled and not empty cc.attrs.raEndEntityDetails.issuanceRevocationReason}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="issuancerevocation" value="#{cc.attrs.raEndEntityDetails.issuanceRevocationReason}"
                rendered="#{cc.attrs.raEndEntityDetails.issuanceRevocationReasonEnabled and not empty cc.attrs.raEndEntityDetails.issuanceRevocationReason}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:outputLabel for="subjectdn"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and not cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{msg.component_eedetails_header_subjectdn}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="subjectdn"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and not cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{cc.attrs.raEndEntityDetails.subjectDnUnescapedValue}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="sshkeyid"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{msg.component_eedetails_header_ssh_keyid}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="sshkeyid"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{cc.attrs.raEndEntityDetails.sshKeyId}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="sshprincipals"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{msg.component_eedetails_header_ssh_principals}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="sshprincipals"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{cc.attrs.raEndEntityDetails.sshPrincipalsPretty}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="sshcomment"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{msg.component_eedetails_header_ssh_comment}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="sshcomment"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{cc.attrs.raEndEntityDetails.sshComment}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="sshforcecommand"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{msg.component_eedetails_header_ssh_forcecommand}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="sshforcecommand"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{cc.attrs.raEndEntityDetails.sshForceCommand}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="sshsourceaddress"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{msg.component_eedetails_header_ssh_sourceaddress}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="sshsourceaddress"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{cc.attrs.raEndEntityDetails.sshSourceAddress}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputLabel for="sshverifyrequired"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{msg.component_eedetails_header_ssh_verifyrequired}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="sshverifyrequired"
                rendered="#{(not cc.attrs.editMode or cc.attrs.approvalRequestMode) and not empty cc.attrs.raEndEntityDetails.subjectDn and cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{cc.attrs.raEndEntityDetails.sshVerifyRequiredString}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText styleClass="#{cc.attrs.styleFull} pre" rendered="#{cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectDistinguishedName.fieldInstances
            		and cc.attrs.approvalRequestMode}"
                value=" "/>
            <h:panelGroup styleClass="#{cc.attrs.styleFull}" rendered="#{cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectDistinguishedName.fieldInstances 
            		and cc.attrs.approvalRequestMode}">
                <h3 class="h3Margin"><h:outputText value="#{msg.component_eedetails_header_subjectdn}"/></h3>
                <ui:repeat id="subjectDistinguishedName" value="#{cc.attrs.raEndEntityDetails.subjectDistinguishedName.fieldInstances}" var="instance">
                    <h:panelGroup styleClass="#{cc.attrs.raEndEntityDetails.evenTwice ? cc.attrs.styleEven : cc.attrs.styleOdd}">
                        <h:outputLabel for="subjectDistinguishedNameFieldGroup" value="#{msg['subject_dn_'.concat(instance.name)]}" styleClass="#{cc.attrs.styleLabel}"/>
                        <h:panelGroup id="subjectDistinguishedNameFieldGroup" styleClass="#{cc.attrs.styleValue}">
                            <h:inputText id="subjectDistinguishedNameField" value="#{instance.value}" disabled="#{!instance.modifiable}" styleClass="#{cc.attrs.styleFull}">
                                <f:validator validatorId="extendedRegexValidator"/>
                                <f:attribute name="pattern" value="#{instance.regexPattern}"/>
                            </h:inputText>
                            <h:message rendered="#{cc.attrs.editMode}" for="subjectDistinguishedNameField"/>
                        </h:panelGroup>
                    </h:panelGroup>
                </ui:repeat>
            </h:panelGroup>

            <h:panelGroup id="subjectDistinguishNames"
                styleClass="subjects"
                rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode and not cc.attrs.raEndEntityDetails.sshTypeEndEntity}">
                <h:outputLabel styleClass="#{cc.attrs.styleFull}" value="#{msg.component_eedetails_header_subjectdn}"/>
                <component:subjects fieldInstances="#{cc.attrs.raEndEntityBean.subjectDistinguishNames.fieldInstances}"
                    msgPrefix="#{'subject_dn_'}"
                    dnEmailFieldName="#{cc.attrs.raEndEntityBean.dnEmailFieldName}"
                    eeEmail="#{cc.attrs.raEndEntityDetails.email}"/>
            </h:panelGroup>

            <h:outputLabel for="subjectan"
                rendered="#{not cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectAn and not cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{msg.component_eedetails_header_subjectan}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="subjectan"
                rendered="#{not cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectAn and not cc.attrs.raEndEntityDetails.sshTypeEndEntity}"
                value="#{cc.attrs.raEndEntityDetails.subjectAn}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText styleClass="#{cc.attrs.styleFull} pre" rendered="#{cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectAlternativeName.fieldInstances and cc.attrs.approvalRequestMode}"
                value=" "/>
            <h:panelGroup styleClass="#{cc.attrs.styleFull}" rendered="#{cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectAlternativeName.fieldInstances and cc.attrs.approvalRequestMode}">
                <h3 class="h3Margin"><h:outputText value="#{msg.component_eedetails_header_subjectan}"/></h3>
                <ui:repeat id="subjectAlternativeName" value="#{cc.attrs.raEndEntityDetails.subjectAlternativeName.fieldInstances}" var="instance">
                    <h:panelGroup styleClass="#{cc.attrs.raEndEntityDetails.evenTwice ? cc.attrs.styleEven : cc.attrs.styleOdd}">
                        <h:outputLabel for="subjectAlternativeNameFieldGroup" value="#{msg['subject_alternative_name_'.concat(instance.name)]}" styleClass="#{cc.attrs.styleLabel}"/>
                        <h:panelGroup id="subjectAlternativeNameFieldGroup" styleClass="#{cc.attrs.styleValue}">
                            <h:inputText id="subjectAltNameField" value="#{instance.value}" disabled="#{!instance.modifiable}" styleClass="#{cc.attrs.styleFull}">
                                <f:validator validatorId="extendedRegexValidator"/>
                                <f:attribute name="pattern" value="#{instance.regexPattern}"/>
                            </h:inputText>
                            <h:message rendered="#{cc.attrs.editMode}" for="subjectAltNameField"/> 
                        </h:panelGroup>
                    </h:panelGroup>
                </ui:repeat>
            </h:panelGroup>

            <h:panelGroup id="subjectAlternativeNames"
                styleClass="subjects"
                rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode and not cc.attrs.raEndEntityDetails.sshTypeEndEntity}">
                <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>
                <h:outputLabel styleClass="#{cc.attrs.styleFull}" rendered="#{cc.attrs.raEndEntityBean.anySubjectAlternativeName}" value="#{msg.component_eedetails_header_subjectan}"/>
                <component:subjects fieldInstances="#{cc.attrs.raEndEntityBean.subjectAlternativeNames.fieldInstances}"
                    msgPrefix="#{'subject_alternative_name_'}"
                    dnEmailFieldName="#{cc.attrs.raEndEntityBean.dnEmailFieldName}"
                    eeEmail="#{cc.attrs.raEndEntityDetails.email}"/>
            </h:panelGroup>

            <h:panelGroup id="editableSshAttributes"
                styleClass="subjects"
                rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode and cc.attrs.raEndEntityDetails.sshTypeEndEntity}">
                <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>
                <h:outputLabel for="keyidinput"
                    styleClass="pure-u-lg-1-3 row-even"
                    value="#{msg.component_eedetails_header_ssh_keyid}"/>
                <h:panelGroup styleClass="pure-u-lg-2-3 ra-outputText row-even ra-editEndEntity">
                    <h:inputText id="keyidinput"
                        value="#{cc.attrs.raEndEntityBean.sshKeyId}"/>
                </h:panelGroup>
                <h:outputLabel for="commentinput"
                    styleClass="pure-u-lg-1-3 row-even"
                    value="#{msg.component_eedetails_header_ssh_comment}"/>
                <h:panelGroup styleClass="pure-u-lg-2-3 ra-outputText row-even ra-editEndEntity">
                    <h:inputText id="commentinput"
                        value="#{cc.attrs.raEndEntityBean.sshComment}"/>
                </h:panelGroup>
                <ui:repeat id="sshPrincipal"
                    value="#{cc.attrs.raEndEntityBean.sshPrincipals}"
                    var="instance"
                    varStatus="loop">
                    <h:outputLabel for="sshPrincipalNonModifiableField"
                        value="#{msg.enroll_ssh_principal} "
                        styleClass="pure-u-lg-1-3 row-even"
                        rendered="#{!instance.required}" />
                    <h:outputLabel for="sshPrincipalField"
                        value="#{msg.enroll_ssh_principal} *"
                        styleClass="pure-u-lg-1-3 row-even"
                        rendered="#{instance.required}" />
                    <h:panelGroup styleClass="pure-u-lg-2-3 ra-outputText row-even ra-editEndEntity">
                        <h:inputText id="sshPrincipalField" value="#{instance.value}" 
                            styleClass="jsDelayKeyUp jsAutoFocusFirst #{component.valid?'':'jsAutoFocusError'}"
                            rendered="#{instance.modifiable}">
                            <f:validator validatorId="extendedRegexValidator" />
                            <f:attribute name="pattern" value="#{instance.regexPatternRequired ? instance.regexPattern : ''}"/>
                            <f:validator validatorId="extendedRequiredValidator"/>
                            <f:attribute name="_required" value="#{instance.required}"/>
                            <f:attribute name="_label" value="#{instance.name}"/>
                            <f:ajax event="keyup" execute="@this"
                                render=":requestInfoForm:requestPreviewOuterPanel sshPrincipalFieldMessage"/>
                        </h:inputText>
                            <h:outputText id="sshPrincipalFieldNonModifiableField" value="#{instance.value}" 
                                rendered="#{!instance.modifiable}"/>
                        <h:message for="sshPrincipalField" id="sshPrincipalFieldMessage" styleClass="sshPrincipalErrorMessage" 
                            errorClass="sshPrincipalErrorMessage showErrorMessage"/>
                    </h:panelGroup>
                </ui:repeat>
                <h:outputLabel for="forcecommandinput"
                    styleClass="pure-u-lg-1-3 row-even"
                    rendered="#{not cc.attrs.raEndEntityDetails.sshForceCommandRequired}"
                    value="#{msg.component_eedetails_header_ssh_forcecommand}"/>
                <h:outputLabel for="forcecommandinput"
                    styleClass="pure-u-lg-1-3 row-even"
                    rendered="#{cc.attrs.raEndEntityDetails.sshForceCommandRequired}"
                    value="#{msg.component_eedetails_header_ssh_forcecommand} *"/>
                <h:panelGroup styleClass="pure-u-lg-2-3 ra-outputText row-even ra-editEndEntity">
                    <h:inputText id="forcecommandinput"
                        value="#{cc.attrs.raEndEntityBean.sshForceCommand}"
                        rendered="#{cc.attrs.raEndEntityDetails.sshForceCommandModifiable}"/>
                    <h:outputText id="forcecommandtext"
                        rendered="#{not cc.attrs.raEndEntityDetails.sshForceCommandModifiable}"
                        value="#{cc.attrs.raEndEntityDetails.sshForceCommand}"/>
                </h:panelGroup>
                <h:outputLabel for="sourceaddressinput"
                    styleClass="pure-u-lg-1-3 row-even"
                    rendered="#{not cc.attrs.raEndEntityDetails.sshSourceAddressRequired}"
                    value="#{msg.component_eedetails_header_ssh_sourceaddress}"/>
                <h:outputLabel for="sourceaddressinput"
                    styleClass="pure-u-lg-1-3 row-even"
                    rendered="#{cc.attrs.raEndEntityDetails.sshSourceAddressRequired}"
                    value="#{msg.component_eedetails_header_ssh_sourceaddress} *"/>
                <h:panelGroup styleClass="pure-u-lg-2-3 ra-outputText row-even ra-editEndEntity">
                    <h:inputText id="sourceaddressinput"
                        value="#{cc.attrs.raEndEntityBean.sshSourceAddress}"
                        rendered="#{cc.attrs.raEndEntityDetails.sshSourceAddressModifiable}"/>
                    <h:outputText id="sourceaddresstext"
                        rendered="#{not cc.attrs.raEndEntityDetails.sshSourceAddressModifiable}"
                        value="#{cc.attrs.raEndEntityDetails.sshSourceAddress}"/>
                </h:panelGroup>
                <h:outputLabel for="verifyrequiredinput"
                    styleClass="pure-u-lg-1-3 row-even"
                    rendered="#{not cc.attrs.raEndEntityDetails.sshVerifyRequiredRequired}"
                    value="#{msg.component_eedetails_header_ssh_verifyrequired}"/>
                <h:outputLabel for="verifyrequiredinput"
                    styleClass="pure-u-lg-1-3 row-even"
                    rendered="#{cc.attrs.raEndEntityDetails.sshVerifyRequiredRequired}"
                    value="#{msg.component_eedetails_header_ssh_verifyrequired} *"/>
                <h:panelGroup styleClass="pure-u-lg-2-3 ra-outputText row-even ra-editEndEntity">
                    <h:selectOneMenu id="verifyrequiredinput"
									value="#{cc.attrs.raEndEntityBean.sshVerifyRequired}"
                                    rendered="#{cc.attrs.raEndEntityDetails.sshVerifyRequiredModifiable}"
									requiredMessage="#{msg.enroll_ssh_option_required}"
									required="#{cc.attrs.raEndEntityDetails.sshVerifyRequiredRequired}">
                        <f:selectItems id="sshVerifyRequiredSelectList" value="#{cc.attrs.raEndEntityBean.sshVerifyRequiredOptions}"/>
                    </h:selectOneMenu>
                    <h:outputText id="verifyrequiredtext"
                        rendered="#{not cc.attrs.raEndEntityDetails.sshVerifyRequiredModifiable}"
                        value="#{cc.attrs.raEndEntityDetails.sshVerifyRequiredString}"/>
                </h:panelGroup>
            </h:panelGroup>

            <h:outputLabel for="subjectda" rendered="#{not cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectDa}" value="#{msg.component_eedetails_header_subjectda}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="subjectda" rendered="#{not cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectDa}"
                value="#{cc.attrs.raEndEntityDetails.subjectDa}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText styleClass="#{cc.attrs.styleFull} pre" rendered="#{cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectDirectoryAttributes.fieldInstances and cc.attrs.approvalRequestMode}"
                value=" "/>
            <h:panelGroup styleClass="#{cc.attrs.styleFull}" rendered="#{cc.attrs.editMode and not empty cc.attrs.raEndEntityDetails.subjectDirectoryAttributes.fieldInstances and cc.attrs.approvalRequestMode}">
                <h3 class="h3Margin"><h:outputText value="#{msg.component_eedetails_header_subjectda}"/></h3>
                <ui:repeat id="subjectDirectoryAttribute" value="#{cc.attrs.raEndEntityDetails.subjectDirectoryAttributes.fieldInstances}" var="instance">
                    <h:panelGroup styleClass="#{cc.attrs.raEndEntityDetails.evenTwice ? cc.attrs.styleEven : cc.attrs.styleOdd}">
                        <h:outputLabel for="subjectDirectoryAttributesFieldGroup" value="#{msg['subject_directory_attributes_'.concat(instance.name)]}" styleClass="#{cc.attrs.styleLabel}"/>
                        <h:panelGroup id="subjectDirectoryAttributesFieldGroup" styleClass="#{cc.attrs.styleValue}">
                            <h:inputText id="subjectDirectoryAttributesField" value="#{instance.value}" disabled="#{!instance.modifiable}" styleClass="#{cc.attrs.styleFull}">
                                <f:validator validatorId="extendedRegexValidator"/>
                                <f:attribute name="pattern" value="#{instance.regexPattern}"/>
                            </h:inputText>
                            <h:message rendered="#{cc.attrs.editMode}" for="subjectDirectoryAttributesField"/>
                        </h:panelGroup>
                    </h:panelGroup>
                </ui:repeat>
            </h:panelGroup>

            <h:panelGroup id="subjectDirectoryAttributes"
                styleClass="subjects"
                rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}">
                <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>
                <h:outputLabel styleClass="#{cc.attrs.styleFull}" rendered="#{cc.attrs.raEndEntityBean.anySubjectDirectoryAttribute}" value="#{msg.component_eedetails_header_subjectda}"/>
                <component:subjects fieldInstances="#{cc.attrs.raEndEntityBean.subjectDirectoryAttributes.fieldInstances}"
                    msgPrefix="#{'subject_directory_attributes_'}"
                    dnEmailFieldName="#{cc.attrs.raEndEntityBean.dnEmailFieldName}"
                    eeEmail="#{cc.attrs.raEndEntityDetails.email}"/>
            </h:panelGroup>
            <h:outputLabel value="#{msg.component_eedetails_field_keyrecoverable}" styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity"/>
			<h:selectBooleanCheckbox id="eeKeyRecoverable"
				    rendered="#{cc.attrs.editMode and not cc.attrs.approvalRequestMode}" 
				    value="#{cc.attrs.raEndEntityBean.keyRecoverable}"/>
			<h:outputText styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" 
								value="#{cc.attrs.raEndEntityDetails.keyRecoverable ? msg.component_eedetails_field_keyrecoverable_yes : msg.component_eedetails_field_keyrecoverable_no }"
			                   rendered="#{cc.attrs.approvalRequestMode or not cc.attrs.editMode}"/>
			<h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>
            <h:outputLabel for="editCertificateExtensionDataField" value="#{msg.enroll_cert_extension_data}" 
                rendered="#{cc.attrs.editMode and cc.attrs.raEndEntityDetails.extensionDataConfigured and not cc.attrs.approvalRequestMode}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:inputTextarea id="editCertificateExtensionDataField" value="#{cc.attrs.raEndEntityBean.extensionData}" 
                rendered="#{cc.attrs.editMode and cc.attrs.raEndEntityDetails.extensionDataConfigured and not cc.attrs.approvalRequestMode}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}">
                <f:validator validatorId="oidValidator"/>
                <f:attribute name="beginsWith" value="true"/>
            </h:inputTextarea>
            <h:message for="editCertificateExtensionDataField" id="editCertificateExtensionDataFieldMessage" styleClass="showErrorMessage"/>
            <h:outputLabel for="viewCertificateExtensionDataField" value="#{msg.enroll_cert_extension_data}" 
                rendered="#{cc.attrs.raEndEntityDetails.extensionDataConfigured and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="viewCertificateExtensionDataField" value="#{cc.attrs.raEndEntityDetails.extensionData}" 
                rendered="#{cc.attrs.raEndEntityDetails.extensionDataConfigured and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <!-- PSD2 NCAName -->
            <h:outputLabel for="viewPsd2NCANameField" value="#{msg.enroll_psd2_ncaname}"
                           rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:outputText id="viewPsd2NCANameField" value="#{cc.attrs.raEndEntityDetails.psd2NcaName}"
                          rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:outputLabel for="editPsd2NCANameField" value="#{msg.enroll_psd2_ncaname}"
                           rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:panelGroup rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity">
                <h:inputText id="editPsd2NCANameField" value="#{cc.attrs.raEndEntityBean.psd2NcaName}" />
            </h:panelGroup>
            <!-- PSD2 NCAId -->
            <h:outputLabel for="viewPsd2NCAIdField" value="#{msg.enroll_psd2_ncaid}"
                           rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:outputText id="viewPsd2NCAIdField" value="#{cc.attrs.raEndEntityDetails.psd2NcaId}"
                          rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:outputLabel for="editPsd2NCAIdField" value="#{msg.enroll_psd2_ncaid}"
                           rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:panelGroup rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity">
                <h:inputText id="editPsd2NCAIdField" value="#{cc.attrs.raEndEntityBean.psd2NcaId}" />
            </h:panelGroup>
            <!-- PSD2 PSP roles -->
            <h:outputLabel for="viewPsd2PspRoleField" value="#{msg.enroll_psd2_psp_roles}"
                           rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:panelGroup rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity">
                <h:selectManyListbox id="viewPsd2PspRoleField" value="#{cc.attrs.raEndEntityDetails.selectedPsd2PspRoles}" disabled="true">
                    <f:selectItems value="#{cc.attrs.raEndEntityDetails.availablePsd2PspRoles}"/>
                </h:selectManyListbox>
            </h:panelGroup>
            <h:outputLabel for="editPsd2PspRoleField" value="#{msg.enroll_psd2_psp_roles}"
                           rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:panelGroup rendered="#{cc.attrs.raEndEntityDetails.psd2QcStatementEnabled and cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity">
                <h:selectManyListbox id="editPsd2PspRoleField" value="#{cc.attrs.raEndEntityBean.selectedPsd2PspRoles}">
                    <f:selectItems value="#{cc.attrs.raEndEntityDetails.availablePsd2PspRoles}"/>
                </h:selectManyListbox>
            </h:panelGroup>
            <!-- CA/B Forum Organization Identifier -->
            <h:outputLabel for="viewCabfOrganizationIdentifierField" value="#{msg.enroll_cabf_organizationidentifier}"
                           rendered="#{cc.attrs.raEndEntityDetails.cabfOrganizationIdentifierEnabled and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:outputText id="viewCabfOrganizationIdentifierField" value="#{cc.attrs.raEndEntityDetails.cabfOrganizationIdentifier}"
                          rendered="#{cc.attrs.raEndEntityDetails.cabfOrganizationIdentifierEnabled and (!cc.attrs.editMode or cc.attrs.approvalRequestMode)}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:outputLabel for="editCabfOrganizationIdentifierField" value="#{msg.enroll_cabf_organizationidentifier}"
                           rendered="#{cc.attrs.raEndEntityDetails.cabfOrganizationIdentifierEnabled and cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
            <h:panelGroup rendered="#{cc.attrs.raEndEntityDetails.cabfOrganizationIdentifierEnabled and cc.attrs.editMode and not cc.attrs.approvalRequestMode}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd} ra-editEndEntity">
                <h:inputText id="editCabfOrganizationIdentifierField" value="#{cc.attrs.raEndEntityBean.cabfOrganizationIdentifier}"
                             pt:pattern="#{cc.attrs.raEndEntityBean.cabfOrganizationIdentifierRegex}"
                             pt:title="#{msg.enroll_cabf_organizationidentifier_format}"
                             disabled="#{not cc.attrs.raEndEntityBean.cabfOrganizationIdentifierModifiable}">
                    <f:validator validatorId="extendedRegexValidator" />
                    <f:attribute name="pattern" value="#{cc.attrs.raEndEntityBean.cabfOrganizationIdentifierRegex}"/>
                    <f:attribute name="_label" value="#{msg.enroll_cabf_organizationidentifier}"/>
                </h:inputText>
                <h:message for="editCabfOrganizationIdentifierField" id="cabfOrganizationIdentifierMessage" styleClass="validationErrorMessage showErrorMessage"/>
            </h:panelGroup>

            <h:outputLabel for="addEEApprovalReq" value="#{msg.component_eedetails_field_addendentity_approvalrequestid}"
                           rendered="#{cc.attrs.raEndEntityDetails.addEndEntityApprovalRequestId != ''}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="addEEApprovalReq" value="#{cc.attrs.raEndEntityDetails.addEndEntityApprovalRequestId}"
                          rendered="#{cc.attrs.raEndEntityDetails.addEndEntityApprovalRequestId != ''}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputLabel for="editEEApprovalReq" value="#{msg.component_eedetails_field_editendentity_approvalrequestid}"
                           rendered="#{cc.attrs.raEndEntityDetails.editEndEntityApprovalRequestIds != ''}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="editEEApprovalReq" value="#{cc.attrs.raEndEntityDetails.editEndEntityApprovalRequestIds}"
                          rendered="#{cc.attrs.raEndEntityDetails.editEndEntityApprovalRequestIds != ''}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>

            <h:outputLabel for="revokeEEApprovalReq" value="#{msg.component_eedetails_field_revokeendentity_approvalrequestid}"
                           rendered="#{cc.attrs.raEndEntityDetails.revokeEndEntityApprovalRequestIds != ''}"
                           styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText id="revokeEEApprovalReq" value="#{cc.attrs.raEndEntityDetails.revokeEndEntityApprovalRequestIds}"
                          rendered="#{cc.attrs.raEndEntityDetails.revokeEndEntityApprovalRequestIds != ''}"
                          styleClass="#{cc.attrs.styleValue} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}"/>
            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" "/>

            <h:panelGroup styleClass="pure-u-2-3 ra-endEntityNavEditBar">
                <h:commandButton action="#{raEndEntityBean.revokeCertificatesAndDeleteEndEntity}" value="#{msg.endentity_page_command_edit_revoke_delete}"
                                 styleClass="pure-button ra-button ra-endEntityEditSaveCancel"
                                 rendered="#{raAccessBean.authorizedToEditEndEntities and raEndEntityBean.editEditEndEntityMode and raEndEntityBean.apiEditCompatible}" />
                <h:commandButton action="#{raEndEntityBean.editEditEndEntity}" value="#{msg.endentity_page_command_edit}"
                                 styleClass="pure-button ra-button ra-endEntityEditSaveCancel"
                                 rendered="#{not raEndEntityBean.deleted and raAccessBean.authorizedToEditEndEntities and !raEndEntityBean.editEditEndEntityMode and raEndEntityBean.apiEditCompatible and raEndEntityBean.endEntity != null}" />
                <h:commandButton action="#{raEndEntityBean.editEditEndEntityCancel}" value="#{msg.endentity_page_command_editcancel}"
                                 styleClass="pure-button ra-button ra-endEntityEditSaveCancel"
                                 rendered="#{raAccessBean.authorizedToEditEndEntities and raEndEntityBean.editEditEndEntityMode and raEndEntityBean.apiEditCompatible}" />
                <h:commandButton action="#{raEndEntityBean.editEditEndEntitySave}" value="#{msg.endentity_page_command_editsave}"
                                 styleClass="pure-button ra-button ra-endEntityEditSaveCancel"
                                 rendered="#{raAccessBean.authorizedToEditEndEntities and raEndEntityBean.editEditEndEntityMode and raEndEntityBean.apiEditCompatible}" />
                <h:commandButton action ="#{raEndEntityBean.backToSearch}" value="#{msg.search_ees_page_cdclose_command}"
                                 styleClass="pure-button ra-button ra-endEntityEditSaveCancel"
                                 rendered="#{raEndEntityBean.viewEndEntityMode}" />
            </h:panelGroup>

            <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" " />

            <h:panelGroup layout="block" rendered="#{not empty cc.attrs.raEndEntityIssuedCerts}">
                <h:outputLabel for="issuedCertsTable" value="#{msg.component_eedetails_field_certificates}"
                    styleClass="#{cc.attrs.styleLabel} #{cc.attrs.raEndEntityDetails.even ? cc.attrs.styleEven : cc.attrs.styleOdd}" />
                <h:dataTable id="issuedCertsTable" value="#{cc.attrs.raEndEntityIssuedCerts}" var="issuedCert"
                    styleClass="#{cc.attrs.styleTable}">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{msg.component_eedetails_header_serialnumber}" />
                        </f:facet>
                        <h:outputLink value="viewcert.xhtml">
                            <f:param name="fp" value="#{issuedCert.fingerprint}" />
                            <h:outputText value="#{issuedCert.serialnumber}" />
                        </h:outputLink>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{msg.component_eedetails_header_created}" />
                        </f:facet>
                        <h:outputText value="#{issuedCert.created}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{msg.component_eedetails_header_expires}" />
                        </f:facet>
                        <h:outputText value="#{issuedCert.expires}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{msg.component_eedetails_header_status}" />
                        </f:facet>
                        <h:outputText value="#{issuedCert.status}" />
                    </h:column>
                </h:dataTable>

                <h:outputText styleClass="#{cc.attrs.styleFull} pre" value=" " />
            </h:panelGroup>
            

        </composite:implementation>
    </h:body>
    </f:view>
</html>
