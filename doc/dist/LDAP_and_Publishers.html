<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>LDAP and Publishers - EJBCA - Documentation Space</title>

    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>


<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="16227804">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">EJBCADS</span>
                    <img class="space-logo" src="spacelogo.png" />
                </h1>
                <a href="EJBCA_-_Documentation.html" class="ht-space-link">
                    <h2>EJBCA - Documentation Space</h2>
                </a>
            </header>

            <nav class="ht-pages-nav">
                <ul class="ht-pages-nav-top">
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Documentation.html">EJBCA Documentation</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Introduction.html">EJBCA Introduction</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_Concepts.html">EJBCA Concepts</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Architecture.html">EJBCA Architecture</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Internal_Architecture.html">Internal Architecture</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="External_OCSP_Responders.html">External OCSP Responders</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Installations.html">EJBCA Installations</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Main_Installation.html">EJBCA Main Installation</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_Security.html">EJBCA Security</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Quick_Start_Guide.html">Quick Start Guide</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Legacy_Ubuntu_Quick_Start.html">Legacy Ubuntu Quick Start</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Legacy_RedHat_Linux_Enterprise_Quick_Start.html">Legacy RedHat Linux Enterprise Quick Start</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Installation_Instructions.html">Installation Instructions</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Upgrading_EJBCA.html">Upgrading EJBCA</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Application_Servers.html">Application Servers</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="JBoss_7_GA___JBoss_EAP_6.html">JBoss 7 GA / JBoss EAP 6</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="WildFly_10___JBoss_EAP_7.html">WildFly 10 / JBoss EAP 7</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Wildfly_8.html">Wildfly 8</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Wildfly_9.html">Wildfly 9</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Glassfish.html">Glassfish</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="JBoss_7_and_EAP_6_Debug_logging.html">JBoss 7 and EAP 6 Debug logging</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Transaction_Timeouts.html">Transaction Timeouts</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Deployment_Reference.html">Deployment Reference</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="OCSP_Installation.html">OCSP Installation</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Building_and_Configuring_the_OCSP_Responder.html">Building and Configuring the OCSP Responder</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workflow_for_Setting_up_a_new_OCSP_Signer.html">Workflow for Setting up a new OCSP Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workflow_for_Renewal_of_an_OCSP_signer.html">Workflow for Renewal of an OCSP signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Error_handling.html">Error handling</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Running_several_responders.html">Running several responders</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Adding_additional_responders_in_a_live_environment.html">Adding additional responders in a live environment</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Audit_and_Account_Logging.html">Audit and Account Logging</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OCSP_GET.html">OCSP GET</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="CertHash.html">CertHash</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Standalone_VA_Installation.html">Standalone VA Installation</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="VA_Installation_Error_Handling.html">VA Installation Error Handling</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Operations.html">EJBCA Operations</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Admin_Guide.html">EJBCA Admin Guide</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Exporting_and_Importing_Profiles.html">Exporting and Importing Profiles</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Managing_CAs.html">Managing CAs</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Importing_Certificates.html">Importing Certificates</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="CRL_Generation.html">CRL Generation</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SCEP.html">SCEP</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="CMP.html">CMP</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EST.html">EST</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="OCSP.html">OCSP</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OCSP_Usage.html">OCSP Usage</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Unid_FNR.html">Unid FNR</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Web_Service_Interface.html">Web Service Interface</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Certificate_Transparency.html">Certificate Transparency</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Key_Recovery.html">Key Recovery</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Modular_Protocol_Configuration.html">Modular Protocol Configuration</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="ePassport_PKI.html">ePassport PKI</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="E-mail_Notifications.html">E-mail Notifications</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Printing_of_User_Data.html">Printing of User Data</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Approving_Actions.html">Approving Actions</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Self_Registration.html">Self Registration</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Framework_for_External_User_Data_Sources.html">Framework for External User Data Sources</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Services.html">Services</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Hardware_Security_Modules_(HSM).html">Hardware Security Modules (HSM)</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="ECDSA_Keys_and_Signatures.html">ECDSA Keys and Signatures</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Peer_Systems.html">Peer Systems</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Validators.html">Validators</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Key_Validators.html">Key Validators</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Certificate_Field_Validators.html">Certificate Field Validators</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Post_Processing_Validators.html">Post Processing Validators</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link current" href="LDAP_and_Publishers.html">LDAP and Publishers</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Internationalization.html">Internationalization</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Custom_DN_and_altName_oids.html">Custom DN and altName oids</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Custom_Certificate_Extensions.html">Custom Certificate Extensions</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Extended_Key_Usages.html">Extended Key Usages</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Logging.html">Logging</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="External_Scripts.html">External Scripts</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Command_Line_Interfaces.html">Command Line Interfaces</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_Client_Toolbox.html">EJBCA Client Toolbox</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Validation_Conformance_Tool.html">EJBCA Validation/Conformance Tool</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Validation_Tool_Configuration.html">Validation Tool Configuration</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Validation_Tool_Features.html">Validation Tool Features</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Backup_and_Restore.html">Backup and Restore</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="High_Availability_(HA),_a.k.a_Clustering.html">High Availability (HA), a.k.a Clustering</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Monitoring_and_Healthcheck.html">Monitoring and Healthcheck</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Reference_manual.html">Reference manual</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Customizing_EJBCA.html">Customizing EJBCA</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_the_demo_servlet.html">Using the demo servlet</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Character_Limitations.html">Character Limitations</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Code_Signing.html">Code Signing</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Clearing_System_Caches.html">Clearing System Caches</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Maximizing_Performance.html">Maximizing Performance</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_User_Guide.html">EJBCA User Guide</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Admin_GUI_Overview.html">Admin GUI Overview</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Managing_Crypto_Tokens.html">Managing Crypto Tokens</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Managing_CA&apos;s.html">Managing CA's</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Creating_CA&apos;s.html">Creating CA's</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="CA_Fields.html">CA Fields</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Creating_a_SubCA_Signed_by_an_External_CA.html">Creating a SubCA Signed by an External CA</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Signing_an_External_CA.html">Signing an External CA</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Renewing_a_SubCA_Signed_by_an_External_CA.html">Renewing a SubCA Signed by an External CA</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Requesting_a_Cross_or_Bridge_certificate.html">Requesting a Cross or Bridge certificate</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Signing_a_Rollover_Certificate.html">Signing a Rollover Certificate</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Converting_an_OpenSSL_CA.html">Converting an OpenSSL CA</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="CA_Rollover.html">CA Rollover</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Approval_Profiles.html">Approval Profiles</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Accumulative_Approval_Profiles.html">Accumulative Approval Profiles</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Partitioned_Approval_Profiles.html">Partitioned Approval Profiles</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Certificate_Profiles.html">Certificate Profiles</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Create_a_Certificate_Profile_for_SSL_Servers.html">Create a Certificate Profile for SSL Servers</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Import_Export_Certificate_Profiles.html">Import/Export Certificate Profiles</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Certificate_Profile_Fields.html">Certificate Profile Fields</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="End_Entity_Profiles.html">End Entity Profiles</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Create_an_End_Entity_Profile_for_SSL_Servers.html">Create an End Entity Profile for SSL Servers</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="End_Entities.html">End Entities</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Creating_Users.html">Creating Users</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Create_server_certificates.html">Create server certificates</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Issue_a_new_PKCS_12_keystore_for_an_SSL_server.html">Issue a new PKCS#12 keystore for an SSL server</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Issue_a_New_Server_Certificate_from_a_CSR.html">Issue a New Server Certificate from a CSR</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Create_User_Certificates.html">Create User Certificates</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Certificate_Renewal.html">Certificate Renewal</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Request_Browser_Certificate_Renewal.html">Request Browser Certificate Renewal</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Renaming_and_Editing_Users.html">Renaming and Editing Users</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SSL_Certificate_Expiration.html">SSL Certificate Expiration</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Administrators.html">Administrators</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Administrators_Issued_by_External_CAs.html">Administrators Issued by External CAs</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Renewing_Superadmin.html">Renewing Superadmin</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Roles.html">Roles</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Access_Rules.html">Access Rules</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Predefined_Role_Templates.html">Predefined Role Templates</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Creating_a_New_Administrator.html">Creating a New Administrator</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="View_Log_Options.html">View Log Options</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Managing_Internal_Key_Bindings.html">Managing Internal Key Bindings</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OcspKeyBinding.html">OcspKeyBinding</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="AuthenticationKeyBinding.html">AuthenticationKeyBinding</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_Batch_Enrollment_GUI.html">EJBCA Batch Enrollment GUI</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_RA.html">EJBCA RA</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Installation.html">Installation</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_RA_Admin_Guide.html">EJBCA RA Admin Guide</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Custom_RA_Stylesheets.html">Custom RA Stylesheets</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_RA_User_Guide.html">EJBCA RA User Guide</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="CVC_CA.html">CVC CA</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Creating_CVCAs_and_DVs.html">Creating CVCAs and DVs</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="CVC_Sequence.html">CVC Sequence</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EAC_Roles_and_Access_Rights.html">EAC Roles and Access Rights</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Document_Verifiers_(DV).html">Document Verifiers (DV)</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Creating_Authenticated_Requests_and_Link_Certificates.html">Creating Authenticated Requests and Link Certificates</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Inspection_Systems.html">Inspection Systems</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Web_Service_API.html">Web Service API</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Command_Line_Client.html">Command Line Client</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Importing_CAs.html">Importing CAs</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Using_HSMs.html">Using HSMs</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="PEM_requests.html">PEM requests</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SPOC_PKI.html">SPOC PKI</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Audit_Logging.html">EJBCA Audit Logging</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Security_Audit_Events.html">Security Audit Events</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Integrity_Protected_Security_Audit_Log.html">Integrity Protected Security Audit Log</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Integration.html">EJBCA Integration</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_Development.html">EJBCA Development</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Database_Integration.html">Database Integration</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Certificate_Autoenrollment.html">Certificate Autoenrollment</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Requirements.html">Requirements</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Part_1__EJBCA_Administration.html">Part 1: EJBCA Administration</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Part_2__Microsoft_Certification_Authority_and_Group_Policies.html">Part 2: Microsoft Certification Authority and Group Policies</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Part_3__Configuring_the_Microsoft_Autoenrollment_Servlet.html">Part 3: Configuring the Microsoft Autoenrollment Servlet</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Appendix.html">Appendix</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Guides.html">EJBCA Guides</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Ciphermail_Email_Gateway_and_EJBCA_Integration.html">Ciphermail Email Gateway and EJBCA Integration</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Microsoft_Smart_Card_Logon.html">Microsoft Smart Card Logon</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Migrating_from_other_CAs_to_EJBCA.html">Migrating from other CAs to EJBCA</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Migrating_RSA_Keon_CA_with_nCipher.html">Migrating RSA Keon CA with nCipher</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Migration_and_Import.html">Migration and Import</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Migrating_Microsoft_CA_to_EJBCA.html">Migrating Microsoft CA to EJBCA</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_and_Cisco_IOS.html">EJBCA and Cisco IOS</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OpenSSH_and_X509_Authentication.html">OpenSSH and X509 Authentication</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configure_EJBCA_with_OpenSSO.html">Configure EJBCA with OpenSSO</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_up_an_Apache_Web_Server_as_a_Proxy.html">Setting up an Apache Web Server as a Proxy</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_up_an_Apache_Web_Server_with_mod_jk.html">Setting up an Apache Web Server with mod_jk</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_up_a_HA_Proxy_in_front_of_EJBCA.html">Setting up a HA Proxy in front of EJBCA</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Native_Autoenrollment_for_Windows_(Enterprise_only).html">Native Autoenrollment for Windows (Enterprise only)</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Script_based_Autoenrollment_for_Windows_clients_with_EJBCA.html">Script based Autoenrollment for Windows clients with EJBCA</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_with_GemSAFE_Toolbox.html">EJBCA with GemSAFE Toolbox</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Creating_a_custom_RA_application_using_EJBCA_Web_Services_and_Java.html">Creating a custom RA application using EJBCA Web Services and Java</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SensorNet_PKI.html">SensorNet PKI</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_FAQ.html">EJBCA FAQ</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Release_Information.html">EJBCA Release Information</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Release_Notes.html">EJBCA Release Notes</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.12_Release_Notes.html">EJBCA 6.12 Release Notes</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_6.11_Release_Notes.html">EJBCA 6.11 Release Notes</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.11.0.1_Release_Notes.html">EJBCA 6.11.0.1 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.11.1_Release_Notes.html">EJBCA 6.11.1 Release Notes</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_6.10_Release_Notes.html">EJBCA 6.10 Release Notes</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.10.1_Release_Notes.html">EJBCA 6.10.1 Release Notes</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_6.9_Release_Notes.html">EJBCA 6.9 Release Notes</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.9.1_Release_Notes.html">EJBCA 6.9.1 Release Notes</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.8_Release_Notes.html">EJBCA 6.8 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.7_Release_Notes.html">EJBCA 6.7 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.6_Release_Notes.html">EJBCA 6.6 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.5_Release_Notes.html">EJBCA 6.5 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.4_Release_Notes.html">EJBCA 6.4 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.3_Release_Notes.html">EJBCA 6.3 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.2_Release_Notes.html">EJBCA 6.2 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.1_Release_Notes.html">EJBCA 6.1 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.0_Release_Notes.html">EJBCA 6.0 Release Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_Release_Notes_Summary.html">EJBCA Release Notes Summary</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_Change_Log_Summary.html">EJBCA Change Log Summary</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="EJBCA_Upgrade_Notes.html">EJBCA Upgrade Notes</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.12_Upgrade_Notes.html">EJBCA 6.12 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.11_Upgrade_Notes.html">EJBCA 6.11 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.10_Upgrade_Notes.html">EJBCA 6.10 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.9_Upgrade_Notes.html">EJBCA 6.9 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.8_Upgrade_Notes.html">EJBCA 6.8 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.7_Upgrade_Notes.html">EJBCA 6.7 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.6_Upgrade_Notes.html">EJBCA 6.6 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.5_Upgrade_Notes.html">EJBCA 6.5 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.4_Upgrade_Notes.html">EJBCA 6.4 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.3_Upgrade_Notes.html">EJBCA 6.3 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.2_Upgrade_Notes.html">EJBCA 6.2 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.1_Upgrade_Notes.html">EJBCA 6.1 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_6.0_Upgrade_Notes.html">EJBCA 6.0 Upgrade Notes</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="EJBCA_Upgrade_Notes_Summary.html">EJBCA Upgrade Notes Summary</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                    </ul>
            </nav>
        </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="EJBCA_-_Documentation.html">EJBCA - Documentation Space</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="EJBCA_Documentation.html">EJBCA Documentation</a></li>
                                                                                                         <li class="shortcut"><a href="EJBCA_Operations.html">EJBCA Operations</a></li>
                                                                                     <li><a href="EJBCA_Admin_Guide.html">EJBCA Admin Guide</a></li>
                                                            </ul>
</div>            <h1 id="src-16224381"> <span>LDAP and Publishers</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <p  >EJBCA has a modular support for Publishers. A publisher can be any external source where you want to send issued certificates and CRLs to be stored. The most common cases of Publishers, implemented by default in EJBCA, are Lightweight Directory Access Protocol (LDAP) directories and Active Directory (which is a special case of LDAP directory).    </p>
    <p  >The Publisher architecture is modular and it is possible to implement custom publishers that can be integrated and set up in the Admin GUI.    </p>
    <p  >This section covers information on LDAP and Publishers in the following sections:    </p>
    <p  >    </p>
<ul class="toc-indentation "><li class=" ">    <p  ><a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-PublisherAccessRulesPublisher_Access_Rules">Publisher Access Rules</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-LDAPNamingLDAP_Naming">LDAP Naming</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-LDAPBasicsLDAP_Basics">LDAP Basics</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-ConfigureLDAPPublishersConfigure_LDAP_Publishers">Configure LDAP Publishers</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-ConfigureOpenLDAPConfigure_OpenLDAP">Configure OpenLDAP</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-OpenDJOpenDJ">OpenDJ</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-CustomSchemasCustom_schemas">Custom Schemas</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-CustomPublishersCustom_publishers">Custom Publishers</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-PublisherQueueandFailuresPublisher_Queue_and_Failures">Publisher Queue and Failures</a>    </p>
</li></ul>    <div class="section section-1" id="src-16224381_id-.LDAPandPublishersv6.12.0-PublisherAccessRulesPublisher_Access_Rules">
        <h1 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Publisher_Access_Rules" class="confluence-anchor-link"></span><span>Publisher Access Rules </span></h1>
    <p  >The presumed administrator of publishers is the built in CA Administrator role, or more specifically a role with access to <i class=" ">/ca_functionality/edit_publishers</i>. Besides that, only the following publishers will be available for a given role:    </p>
<ul class=" "><li class=" ">    <p  >Publishers assigned to a CA that the role has access to.    </p>
</li><li class=" ">    <p  >Publishers not assigned to any CA.    </p>
</li><li class=" ">    <p  ><span class="status blue ">ENTERPRISE EDITION</span> Validation Authority Peer Publishers, given that the role has access to <i class=" "><tt class=" ">/peer/view</tt></i>    </p>
</li></ul>    <p  >The following covers the built-in publishers.    </p>
    </div>
    <div class="section section-1" id="src-16224381_id-.LDAPandPublishersv6.12.0-LDAPNamingLDAP_Naming">
        <h1 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-LDAP_Naming" class="confluence-anchor-link"></span><span>LDAP Naming </span></h1>
    <p  >The recommended method of choosing a naming suffix is the one described in <a  class="external-link" href="http://www.ietf.org/rfc/rfc2247.txt">RFC2247</a> that maps a DNS domain to a DN. If my DNS domain is bigcorp.com it will map to the DN &quot;dc=bigcorp,dc=com&quot;. The top node in my LDAP directory will then be &quot;dc=bigcorp,dc=com&quot;. For more information and to understand LDAP naming, we recommend the book <i class=" ">Understanding and Deploying LDAP Directory Services</i>.    </p>
    <p  >The dc component support is mandated by all of the X.509 RFCs now. For example, if I have this directory:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="functions">dc</code><code class="plain">=bigcorp,</code><code class="functions">dc</code><code class="plain">=com</code></div>
<div class="line"><code class="plain">    |</code></div>
<div class="line"><code class="plain">    +-</code><code class="functions">dc</code><code class="plain">=</code><code class="keyword">fi</code></div>
<div class="line"><code class="plain">    |</code></div>
<div class="line"><code class="plain">    |</code></div>
<div class="line"><code class="plain">    +-</code><code class="functions">dc</code><code class="plain">=se</code></div>
<div class="line"><code class="plain">        |</code></div>
<div class="line"><code class="plain">        +-cn=Mike Jackson</code></div>
</div>
    </div>
    <p  >The most understandable method is taking the subject name in forward order, like: cn=Mike Jackson,dc=se,dc=bigcorp,dc=com    </p>
    <p  >If the DN is ordered like this it should be published to the correct object in the tree.    </p>
    <p  >If the DN is ordered reverse, like: dc=bigcorp,dc=com,dc=se,cn=Mike Jackson EJBCA will reorder it incorrectly to forward order, so the publishing will be wrong.    </p>
    <p  >Thus, use forward order like this: 'cn=Mike Jackson,dc=se,dc=bigcorp,dc=com' if using the dc model or 'cn=Mike Jackson,o=bigcorp,c=se' if using the o,c model.    </p>
    <p  >Making unique LDAP DNs is the next challenge. If you are in a small organization having the CN will probably work fine, but in a larger organization there are probably several people with the same name. Somehow the names must be made unique, and one way is to introduce numbers, initials etc in the CN. Another way that we recommend is to use uid in the LDAP DN instead. LDAP DNs will then looks like &quot;uid=tomas,dc=bigcorp,dc=com&quot;. Uid is the users username, normally used for login etc, and you probably already have some procedure to create unique usernames already.    </p>
    </div>
    <div class="section section-1" id="src-16224381_id-.LDAPandPublishersv6.12.0-LDAPBasicsLDAP_Basics">
        <h1 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-LDAP_Basics" class="confluence-anchor-link"></span><span>LDAP Basics </span></h1>
    <p  >If you are not used to X.500 style naming, the LDAP structure of branches and leaf nodes may seem unusual. You can't just drop an object anywhere you like; You need to create the framework to support it. Sort of like if you wanted to put entries in /etc/hosts, if the directory /etc did not exist.    </p>
    <p  >First you mkdir /etc, Then you create the file. Then you start putting things in the file. The difference with LDAP and x.500 is that instead of paths separate by slashes, you have paths separated by commas and '=' signs.    </p>
    <p  >For example, if you want to make an object &quot;cn=ldaphost,ou=hosts,dc=yourdom,dc=com&quot;, you first have to make sure &quot;dc=yourdom,dc=com&quot; exists. Then make sure &quot;ou=hosts,dc=yourdom,dc=com&quot; exists. THEN you can try &quot;cn=ldaphost,ou=hosts,dc=yourdom,dc=com&quot;    </p>
    <p  >EJBCA does not create branches in LDAP. You have to put them there with other means, before you start publishing.    </p>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-UsingLDAPUsing_LDAP">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Using_LDAP" class="confluence-anchor-link"></span><span>Using LDAP </span></h2>
    <p  >In Firefox you can for example enter a URL like: ldap://ip-address-of-ldap-server:389/cn=Tomas Gustavsson,dc=se,dc=bigcorp,dc=com and it will fetch an address book entry with the information about the user, including the certificate.    </p>
    <p  >The LDAP url format is described in <a  class="external-link" href="http://www.ietf.org/rfc/rfc2255.txt">RFC2255</a>.    </p>
    <p  >To use LDAP top fetch user certificates and use them for encrypting email there seems to be a requirement to use SSL connection to the LDAP server (<strong class=" ">Account Options &gt; Compositions &amp; Addressing &gt; Edit directories &gt; Edit &gt; Use Secure Connection</strong>), see also below how to configure OpenLDAP for SSL.    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >When fetching certificates from LDAP with Firefox, for example with URL: <a   href="ldap://ldap-server-host/dc=bigcorp,dc=com??sub?(cn=MyName)?(objectclass=*)">ldap://ldap-server-host/dc=bigcorp,dc=com??sub?(cn=MyName)?(objectclass=*)</a>, the CA certificate must be installed in the Windows truststore, not only in Firefox's, to enable a checkbox at the fetched certificate.    </p>
        </div>
    </div>
    <p  >To use SSL against an LDAP server with MS Outlook you must make sure the CN in the LDAP servers certificate is the same as the hostname. An example of adding a user for the LDAP server with the CLI interface is:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">bin</code><code class="plain">/ejbca</code><code class="plain">.sh ra addendentity ldap password </code><code class="string">"C=SE,O=Foo,CN=ldap.foo.se"</code><code class="plain"> MyCA 1 PEM SERVER</code></div>
</div>
    </div>
    <p  >where <strong class=" ">ldap.foo.se</strong> is the hostname of the LDAP server that Outlook should use.    </p>
    <p  >The CA certificate must also be imported into Windows properly.    </p>
    </div>
    </div>
    <div class="section section-1" id="src-16224381_id-.LDAPandPublishersv6.12.0-ConfigureLDAPPublishersConfigure_LDAP_Publishers">
        <h1 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Configure_LDAP_Publishers" class="confluence-anchor-link"></span><span>Configure LDAP Publishers </span></h1>
    <p  >A Publisher is a session bean that implements the IPublishSession interface and is used to store certificates and CRLs for entities. EJBCA have support for endless number of publishers simply by defining publishers in the Admin GUI. The user of EJBCA can implement own publishers, but EJBCA already comes with a publisher for LDAP.    </p>
    <p  >EJBCA uses a notion of base DN to publish to different LDAP structures. The DN used in the certificate can be different from the LDAP structure.    </p>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-ConfiguringEJBCAConfiguring_EJBCA">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Configuring_EJBCA" class="confluence-anchor-link"></span><span>Configuring EJBCA </span></h2>
    <p  >To configure the publisher for LDAP:    </p>
<ol class=" "><li class=" ">    <p  >Choose <strong class=" ">Edit Publishers</strong> in the Admin GUI.    </p>
</li><li class=" ">    <p  >Add a new publisher with a name you define yourself. Edit the publisher and fill in all the necessary fields.    </p>
</li></ol>    <p  >Generic parameters to LDAP Publisher:    </p>
<ul class=" "><li class=" ">    <p  ><strong class=" ">Hostnames</strong>: ';'-separated list of the hosts where the LDAP servers are located. E.g. &quot;ldap.company.com&quot; or &quot;ldap1.company.com;ldap2.company.com&quot;. Only the first available of the listed hosts will be used.    </p>
</li><li class=" ">    <p  ><strong class=" ">Port</strong>: the port on which the LDAP server listens, default non-SSL is 389. There are three choices:    </p>
<ul class=" "><li class=" ">    <p  ><strong class=" ">Plaintext Connection</strong>: unencrypted connection, the easiest to get started with, and the mosts robust if network is secure.    </p>
</li><li class=" ">    <p  ><strong class=" ">STARTTLS Extension</strong>: this gives the server and client a chance to negotiate a TLS (encrypted) connection, if the server supports encrypted connections. It starts with a plaintext connection, and upgrades to a TLS connection using the same port as plaintext connection. Requires configuration both on the server (TLS server key and certificate) and on the client (CA certificate in truststore).    </p>
</li><li class=" ">    <p  ><strong class=" ">TLS Connection</strong>: this always uses an encrypted TLS connection and fails if it is not available. Requires TLS configuration both on the server (TLS server key and certificate) and on the client (CA certificate in truststore).    </p>
</li></ul></li><li class=" ">    <p  ><strong class=" ">Login DN</strong>: the DN of a user on the LDAP server with permissions to add and update entities.    </p>
</li><li class=" ">    <p  ><strong class=" ">Login Password</strong>: the password for the user above.    </p>
</li><li class=" ">    <p  ><strong class=" ">Connection timeout</strong>: number of milliseconds a server has to respond before it is considered unavailable and the next server in the list of hostnames (if any) is used instead. This timeout is used to probe LDAP servers, to create connections, to bind and to disconnect.    </p>
</li><li class=" ">    <p  ><strong class=" ">Read timeout</strong>: number of milliseconds a server has to complete a LDAP search or read operation before it times out and fails.    </p>
</li><li class=" ">    <p  ><strong class=" ">Store timeout</strong>: number of milliseconds a server has to complete a LDAP store operation before it times out and fails. This can take a little longer if you store very large CRLs in LDAP.    </p>
</li><li class=" ">    <p  ><strong class=" ">Create Nonexisting Users</strong>: defines if an LDAP object should be created by EJBCA if it is no existing object when EJBCA publishes the certificate.    </p>
</li><li class=" ">    <p  ><strong class=" ">Modify Existing Users</strong>: defines if attributes (such as email) in existing LDAP objects are replaced with new values and/or added when an entry is updated with a new certificate. If this option is not activated, existing users will not be touched at all, even not updated with a new certificate.    </p>
</li><li class=" ">    <p  ><strong class=" ">Overwrite Existing Attributes</strong> when <strong class=" ">Modify Existing Users</strong> is set to true: this value determines whether to change values of attributes when they already exist.    </p>
</li><li class=" ">    <p  ><strong class=" ">Add Nonexisting Attributes</strong> when <strong class=" ">Modify Existing Users</strong> is set to true: this value determines whether to add attributes when they do not already exist.    </p>
</li><li class=" ">    <p  ><strong class=" ">Add multiple certificates per user</strong>: defines if we should use multiple certificate entries for each user or only one. Default only one certificate is added to a user entry in LDAP and if the user gets a new certificate the old one is deleted and replaced with the new one. If this checkbox is checked certificates are instead appended in LDAP so each user can have multiple certificate entries in LDAP. Make sure your applications can handle this before enabling this option. Revoking a user will remove all certificates entries for the user.    </p>
</li><li class=" ">    <p  ><strong class=" ">Remove certificates when revoked</strong>: if checked causes the publisher to remove a certificate from LDAP when the certificate is revoked or suspended.    </p>
</li><li class=" ">    <p  ><strong class=" ">Remove ldap user when certificate revoked</strong>: if checked causes the publisher to remove the whole LDAP user entry when a certificate is revoked or suspended.    </p>
</li><li class=" ">    <p  ><strong class=" ">Set userPassword attribute</strong>: specifies if the LDAP publisher should set the userPassword attribute in the LDAP object. If a user entry with a non-null password is published, and this checkbox is checked, the userPassword attribute will be populated with the user's password.    </p>
</li><li class=" ">    <p  ><strong class=" ">User Object Class</strong>: the objectclass for the LDAP entries for users, where user certificates are published. The entry is hierarchical separated by ';' to build a structure like: objectclass: top objectclass: person objectclass: organizationalPerson objectclass: inetOrgPerson This objectclass must allow the attribute <strong class=" ">userCertificate;binary</strong>. Default <strong class=" ">top;person;organizationalPerson;inetOrgPerson</strong>    </p>
</li><li class=" ">    <p  ><strong class=" ">CA Object Class</strong>: the objectclass for the LDAP entries for CAs, where CA certificates and CRLs are published. The entry is hierarchical separated by ';' to build a structure. This objectclass must allow the attributes <strong class=" ">cACertificate;binary</strong>, <strong class=" ">certificateRevocationList;binary</strong> and <strong class=" ">authorityRevocationList;binary</strong>. Default <strong class=" ">top;applicationProcess;certificationAuthority</strong>    </p>
</li><li class=" ">    <p  ><strong class=" ">User Certificate Attribute</strong>: the attribute name, in the userObjectClass, for the users certificate. Default <strong class=" ">userCertificate;binary</strong>.    </p>
</li><li class=" ">    <p  ><strong class=" ">CA Certificate Attribute</strong>: the attribute name, in the cAObjectClass, for the CAs certificate. Default <strong class=" ">cACertificate;binary</strong>.    </p>
</li><li class=" ">    <p  ><strong class=" ">CRL Attribute</strong>: the attribute name, in the cAObjectClass, for CRLs (user CRLs) publisher by the CA. Default <strong class=" ">certificateRevocationList;binary</strong>.    </p>
</li><li class=" ">    <p  ><strong class=" ">ARL Attribute</strong>: the attribute name, in the cAObjectClass, for ARLs (CA CRLs) publisher by the CA. Default <strong class=" ">authorityRevocationList;binary</strong> (note that pure ARLs are not implemented yet in EJBCA).    </p>
</li><li class=" ">    <p  ><strong class=" ">LDAP location fields from cert DN</strong>: when configuring the LDAP publisher the BaseDN will be used as the base for the DN published in LDAP, and it will be appended to the LDAP location fields selected to be used. example: If the user DN in EJBCA is &quot;cn=tomas gustavsson, uid=tomasg, O=PrimeKey Solutions AB, C=SE&quot; and the BaseDN is &quot;dc=PrimeKey,dc=SE&quot; and the selected LDAP location fields are &quot;CN&quot;. The LDAP DN used for publishing will be &quot;cn=tomas gustavsson, dc=PrimeKey, dc=SE&quot;, and the &quot;uid=tomasg&quot; will be added as an attribute in LDAP. The certificate stored under &quot;cn=tomas gustavsson, dc=PrimeKey, dc=SE&quot; will have the subjectDN &quot;cn=tomas gustavsson, uid=tomasg, O=PrimeKey Solutions AB, C=SE&quot;.    </p>
</li></ul>    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-SettingupCertificateProfilesSetting_up_certificate_profiles">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Setting_up_certificate_profiles" class="confluence-anchor-link"></span><span>Setting up Certificate Profiles </span></h2>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >To allow publishing in LDAP, you must create an EJBCA custom Certificate profile.    </p>
        </div>
    </div>
    <p  >To publish in LDAP, you must create a Certificate profile in EJBCA that publishes to LDAP. If the publisher for LDAP is configured according to <a   href="#src-16224381_id-.LDAPandPublishersv6.12.0-Configuring_EJBCA">Configuring EJBCA</a> above, there will be a section for <strong class=" ">Publishers</strong> available when creating/editing a certificate profile (with <strong class=" ">Edit Certificate Profiles</strong>).    </p>
    <p  >Choose this, and then when adding end-entities, make sure they use the new certificate profile and voila, the certs will be published.    </p>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-DifferentLDAPPublishersDifferent_LDAP_publishers">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Different_LDAP_publishers" class="confluence-anchor-link"></span><span>Different LDAP Publishers </span></h2>
    <p  ><strong class=" ">LDAP Publisher</strong>    </p>
    <p  >The regular LDAP Publisher works by searching the DN in LDAP.    </p>
    <p  >When EJCA creates an object to publish a certificate to LDAP it firsts builds the DN from the baseDN and 'LDAP location fields for cert DN'. It checks if the entry exists in the ldap and either creates or modifies the entry.    </p>
    <p  >Example: The certificate DN is &quot;CN=Tomas Gustavsson,O=Foo,C=SE&quot;, the BaseDN in the publisher is &quot;DC=primekey,DC=se&quot; and the CN is selected in &quot;LDAP location fields from cert DN&quot;. The resulting DN that EJBCA will search for in the LDAP and create if it does not already exist is &quot;CN=Tomas Gustavsson,DC=primekey,DC=se&quot;.    </p>
    <p  >Using this publisher, if you have multiple trees in your LDAP (for example &quot;ou=foo,dc=primekey,dc=se&quot; and &quot;ou=bar,dc=primekey,dc=se&quot;) you can either:    </p>
<ol class=" "><li class=" ">    <p  >Include both CN and OU in 'LDAP location fields from cert DN' and have your cert DNs like &quot;CN=Tomas,OU=foo,O=MyOrg,C=SE.    </p>
</li><li class=" ">    <p  >Use different publishers for ou=foo and ou=bar and issue certificates for the different OUs with different certificate profiles.    </p>
</li></ol>    <p  ><strong class=" ">LDAP Search Publisher</strong>    </p>
    <p  >The LDAP Search Publisher works by searching the LDAP for existing entries using a user defined search filter. If no entries exist in the LDAP when searching for an entry, one is created just like in the regular LDAP Publisher.    </p>
    <p  >The search filter is defined in the two fields under &quot;LDAP search settings&quot;:    </p>
<ul class=" "><li class=" ">    <p  >Suffix base DN of LDAP Search - the base for your search filter.    </p>
</li><li class=" ">    <p  >LDAP filter of the search - your LDAP filter.    </p>
</li></ul>    <p  >If you build your search filter on DN components, you also have to select those components as <strong class=" ">LDAP location fields</strong>.    </p>
    <p  >The best example of such a search filter is if base is &quot;dc=primekey,dc=se&quot; and filter is &quot;uid=$USERNAME&quot;. The search done by EJBCA will be equal to the search:ldapsearch -x -b &quot;dc=primekey,dc=se&quot; &quot;(uid=$USERNAME)&quot;    </p>
    <p  >$USERNAME is replaced by the EJBCA username of the user that has had a new certificate just generated. Other variables apart from $USERNAME is $EMAIL, $UID, $CN, $O, $OU and $C where these values are taken from the certificate DN.    </p>
    <p  >When a certificate is generated for say user &quot;ldap&quot; EJBCA will perform the search:<br/>ldapsearch -x -b &quot;dc=primekey,dc=se&quot; &quot;(uid=ldap)&quot;    </p>
    <p  >The certificate generated for ldap will be published in the object returned by the search. This is very useful if you want to publish certificates to an LDAP directory where your users already exists, such as an email directory. The DN in the LDAP does not have to match the DN in the certificates at all.    </p>
    <p  >If more than one entry matches the search, the first returned search result will be used.    </p>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-PublishingtoActiveDirectoryPublishing_to_Active_Directory">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Publishing_to_Active_Directory" class="confluence-anchor-link"></span><span>Publishing to Active Directory </span></h2>
    <p  >When configuring Active Directory LDAP, Bind DN for the users are usually, <tt class=" ">cn=user,cn=Users,dc=domain-component1,dc=domain-component2</tt>.    </p>
    <p  >For example: <tt class=" ">cn=User Usersson,cn=Users,dc=primekey,dc=com for the domain primekey.com</tt>    </p>
    <p  >If your DN is like: <tt class=" ">cn=Ejbca1,0=MyOrg,c=SE</tt> and your base DN is like: <tt class=" ">DC=Security,DC=Software,DC=MyOrg</tt> the publisher for AD should have base DN like: <tt class=" ">cn=Users,dc=Security,dc=Software,dc=MyOrg</tt>    </p>
    <p  >For Login DN, use the full ldap name, for example: <tt class=" ">CN=Administrator,CN=Users,dc=primekey,dc=se</tt>    </p>
    <p  >To connect to AD though SSL you should issue a LDAP SSL P12 to the domain controller, according to <a  class="external-link" href="http://support.microsoft.com/default.aspx?scid=kb;en-us;321051&amp;sd=tech">MS Article ID 321051</a>    </p>
    <p  >The same certificate is used for both the AD and global catalogue (GC). Remember to add the CA certificate to the machine that stores trusted root certificates.    </p>
    <p  >To publish a CRL to Active Directory use a Base DN similar to:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">CN=somename,CN=CDP,CN=Public Key Services,CN=Services,CN=Configuration,DC=somemachine,DC=primekey,DC=se</code></div>
</div>
    </div>
    <p  >and the &quot;CRL Distribution Point&quot; in the certificate should point to    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">ldap:</code><code class="plain">///CN</code><code class="plain">=Test%20MS%20SC%20Logon%20CA%20v1,CN=somename,CN=CDP,CN=Public%20Key%20Services,CN=Services,</code></div>
<div class="line"><code class="plain">CN=Configuration,DC=somemachine,DC=primekey,DC=se?certificateRevocationList?base?objectClass=cRLDistributionPoint</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-ConstructingtheDNforanEntitytobePublishedConstructing_the_DN_for_an_entity_to_be_">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Constructing_the_DN_for_an_entity_to_be_" class="confluence-anchor-link"></span><span>Constructing the DN for an Entity to be Published </span></h2>
    <p  >The DN to be published is constructed from the certificate DN of the entity to be published. But if the publisher requires a DN object that is not a part of the certificate DN then the DN defined for entity might be used instead.    </p>
    <p  >The DN of the entity (user or CA) could have more objects than the certificate if &quot;Use a Subset of Subject DN&quot; is defined in the used certificate profile.    </p>
    <p  >The &quot;LDAP Publisher&quot; and the &quot;LDAP Search Publisher&quot; tries the DN of the entity when the certificate DN is missing an object needed in the publishing DN    </p>
    </div>
    <div class="section section-2" id="src-16224381_safe-id-aWQtLkxEQVBhbmRQdWJsaXNoZXJzdjYuMTIuMC1XaGF0RUpCQ0FzdG9yZXMvY3JlYXRlcy9tb2RpZmllc1doYXRfRUpCQ0Ffc3RvcmVzL2NyZWF0ZXMvbW9kaWZpZXM">
        <h2 class="heading "><span id="src-16224381_safe-id-aWQtLkxEQVBhbmRQdWJsaXNoZXJzdjYuMTIuMC1XaGF0X0VKQkNBX3N0b3Jlcy9jcmVhdGVzL21vZGlmaWVz" class="confluence-anchor-link"></span><span>What EJBCA stores/creates/modifies </span></h2>
    <p  >Apart from the DN in the entry, a number of attributes are also stored. Some are required by schema, some are optional. EJBCA find attributes in the certificate, if it is an OU (organizational unit) in the certificate EJBCA uses that to populate the OU attribute in the LDAP entry.    </p>
    <p  >When updating an entry that already exists EJBCA uses replace on the existing attributes, so if an email attributes already exists and EJBCA finds an email address in the certificate, the email attribute in ldap is replaced with the email address from the certificate.    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >Attributes are only replaced/updated if the flag <strong class=" ">Modify Existing Users</strong> in the Publisher is active. The certificate attribute is always updated though. Attributes that are part of the DN, i.e. that reflects the location of the entry in LDAP is not modified, since this is usually not allowed.    </p>
        </div>
    </div>
    <p  >The attributes that EJBCA creates or replaces are:    </p>
<ul class=" "><li class=" ">    <p  >cn (common name)    </p>
</li><li class=" ">    <p  >l (locality)    </p>
</li><li class=" ">    <p  >ou (organizational unit)    </p>
</li><li class=" ">    <p  >sn (surname)    </p>
</li><li class=" ">    <p  >gn (givenname)    </p>
</li><li class=" ">    <p  >st (state)    </p>
</li><li class=" ">    <p  >o (organization)    </p>
</li><li class=" ">    <p  >uid (user id)    </p>
</li><li class=" ">    <p  >initials    </p>
</li><li class=" ">    <p  >title    </p>
</li><li class=" ">    <p  >serialnumber - If we have selected to use the <strong class=" ">SN</strong> (serialNUmber DN field) in <strong class=" ">Ldap Location fields</strong>, we will also add it as an attribute.    </p>
</li></ul>    </div>
    </div>
    <div class="section section-1" id="src-16224381_id-.LDAPandPublishersv6.12.0-ConfigureOpenLDAPConfigure_OpenLDAP">
        <h1 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Configure_OpenLDAP" class="confluence-anchor-link"></span><span>Configure OpenLDAP </span></h1>
    <p  >The objectclass <strong class=" ">inetOrgPerson</strong> is used by default to store certificates.    </p>
    <p  >Example:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">dn: cn=Mike Jackson,ou=people,</code><code class="functions">dc</code><code class="plain">=company,</code><code class="functions">dc</code><code class="plain">=com</code></div>
<div class="line"><code class="plain">objectclass: </code><code class="functions">top</code></div>
<div class="line"><code class="plain">objectclass: person</code></div>
<div class="line"><code class="plain">objectclass: organizationalPerson</code></div>
<div class="line"><code class="plain">objectclass: inetOrgPerson</code></div>
<div class="line"><code class="plain">cn: Mike Jackson</code></div>
<div class="line"><code class="plain">sn: Jackson</code></div>
<div class="line"><code class="plain">userCertificate;binary::</code></div>
</div>
    </div>
    <p  >CAs are published in the form:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">dn: cn=ejbca,</code><code class="functions">dc</code><code class="plain">=jackson,</code><code class="functions">dc</code><code class="plain">=net</code></div>
<div class="line"><code class="plain">objectClass: </code><code class="functions">top</code></div>
<div class="line"><code class="plain">objectClass: applicationProcess</code></div>
<div class="line"><code class="plain">objectClass: certificationAuthority</code></div>
<div class="line"><code class="plain">cn: ejbca</code></div>
<div class="line"><code class="plain">cACertificate;binary:</code></div>
<div class="line"><code class="plain">certificateRevocationList;binary:</code></div>
<div class="line"><code class="plain">authorityRevocationList;binary:</code></div>
</div>
    </div>
    <p  >To configure OpenLDAP (version 2.2.5) to include the <strong class=" ">inetOrgPerson</strong>, add the following lines to slapd.conf. This is already the default in recent releases:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">include </code><code class="plain">/etc/ldap/schema/cosine</code><code class="plain">.schema</code></div>
<div class="line"><code class="plain">include </code><code class="plain">/etc/ldap/schema/inetorgperson</code><code class="plain">.schema</code></div>
</div>
    </div>
    <p  >Add the top object by creating an LDIF file (org.ldif):    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">dn: o=AnaTom,c=SE</code></div>
<div class="line"><code class="plain">objectclass: dcObject</code></div>
<div class="line"><code class="plain">objectclass: organization</code></div>
<div class="line"><code class="plain">o: AnaTom</code></div>
<div class="line"><code class="functions">dc</code><code class="plain">: AnaTom </code></div>
<div class="line"><code class="plain">dn: cn=Admin,o=AnaTom,c=SE</code></div>
<div class="line"><code class="plain">objectclass: organizationalRole</code></div>
<div class="line"><code class="plain">cn: Admin</code></div>
</div>
    </div>
    <p  >And using the command:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">ldapadd -x -D </code><code class="string">"cn=Admin,o=AnaTom,c=SE"</code><code class="plain"> -W -f org.ldif</code></div>
</div>
    </div>
    <p  >Check what you have in the LDAP by:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">ldapsearch -x -b </code><code class="string">'o=AnaTom,c=SE'</code><code class="plain"> </code><code class="string">'(objectclass=*)'</code></div>
</div>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-ConfigureSSLConfigure_SSL">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Configure_SSL" class="confluence-anchor-link"></span><span>Configure SSL </span></h2>
    <p  >Create a user in EJBCA (this example is for adding a user with the cli interface, adding a user with the admin-GUI works just as fine). In the mail EJBCA directory type (use simply 'ra' on windows):    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">bin</code><code class="plain">/ejbca</code><code class="plain">.sh ra addendentity ldap foo123 </code><code class="string">"C=SE,O=Foo,CN=ldap"</code><code class="plain"> null ManagementCA null 1 PEM SERVER</code></div>
<div class="line"><code class="plain">bin</code><code class="plain">/ejbca</code><code class="plain">.sh ra setclearpwd ldap foo123</code></div>
</div>
    </div>
    <p  >Where foo123 is the ldap users password, C=SE... is the users DN and ManagementCA is the name you chose for your CA. The user type is end-user (1), keystore type is PEM, and if using the admin-GUI check <strong class=" ">use batch</strong>).    </p>
    <p  >Batch generate the PEM keystore:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">bin</code><code class="plain">/ejbca</code><code class="plain">.sh batch</code></div>
</div>
    </div>
    <p  >Copy the resulting files p12/pem/ldap.pem, p12/pem/ldap-CA.pem and p12/pem/ldap-Key.pem to your LDAP server. In this example the slapd.conf is located in /etc/ldap so we copy the files to that directory. Protect theses files so they are only readable by the LDAP server.    </p>
    <p  >Add the following to your slapd.conf:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="comments"># Use SSL</code></div>
<div class="line"><code class="plain">TLSCipherSuite HIGH:MEDIUM:+SSLv3</code></div>
<div class="line"><code class="plain">TLSCertificateFile </code><code class="plain">/etc/ldap/ldap</code><code class="plain">.pem</code></div>
<div class="line"><code class="plain">TLSCertificateKeyFile </code><code class="plain">/etc/ldap/ldap-Key</code><code class="plain">.pem</code></div>
<div class="line"><code class="plain">TLSCACertificateFile </code><code class="plain">/etc/ldap/ldap-CA</code><code class="plain">.pem</code></div>
</div>
    </div>
    <p  >Restart slapd:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">.</code><code class="plain">/slapd</code><code class="plain"> -h </code><code class="string">"ldap:/// ldaps:///"</code></div>
</div>
    </div>
    <p  >and check that it is running with <strong class=" ">ps -ef|grep slapd</strong>.    </p>
    <p  >On SuSE, if using the builtin OpenLDAP you have to enable ldaps in /etc/sysconfig/openldap:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">OPENLDAP_START_LDAPS=</code><code class="string">"yes"</code></div>
</div>
    </div>
    <p  >and then run:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">SuSEconfig</code></div>
</div>
    </div>
    <p  >and then:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">rcldap start</code></div>
</div>
    </div>
    <p  >Configure your LDAP publisher in EJBCA to use SSL by checking the checkbox <strong class=" ">Use SSL</strong>, the port should change to port 636.    </p>
    <p  >Note! The CA certificate of the (root)CA used to sign the ldap server certificate must be present in the java trust cert store ($JAVA_HOME/jre/lib/security/cacerts). Otherwise you will have to add it using something like: First get the CA cert:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">bin</code><code class="plain">/ejbca</code><code class="plain">.sh ca getcacert MyCA myca.der -der</code></div>
</div>
    </div>
    <p  >Then add it to the java trust store:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">keytool -</code><code class="functions">import</code><code class="plain"> -trustcacert -</code><code class="functions">alias</code><code class="plain"> MyCA -keystore $JAVA_HOME</code><code class="plain">/jre/lib/security/cacerts</code><code class="plain"> -storepass changeit -</code><code class="functions">file</code><code class="plain"> myca.der</code></div>
</div>
    </div>
    <p  >You have to re-start JBoss after adding anything to the java trust store.    </p>
    <p  >For more information on configuring OpenLDAP on Solaris, refer to <a  class="external-link" href="http://www.bolthole.com/solaris/LDAP.html">bolthole.com</a>    </p>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-SampleUbuntuinstallationSample_Ubuntu_installation">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Sample_Ubuntu_installation" class="confluence-anchor-link"></span><span>Sample Ubuntu installation </span></h2>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">- </code><code class="functions">sudo</code><code class="plain"> apt-get </code><code class="functions">install</code><code class="plain"> slapd ldap-utils</code></div>
<div class="line"><code class="plain">- </code><code class="functions">sudo</code><code class="plain"> dpkg-reconfigure slapd</code></div>
<div class="line"><code class="plain">  </code></div>
<div class="line"><code class="plain">Configure slapd with your domain and admin password (primekey.com </code><code class="keyword">in</code><code class="plain"> this </code><code class="keyword">case</code><code class="plain">).</code></div>
<div class="line"><code class="plain">- </code><code class="functions">sudo</code><code class="plain"> </code><code class="plain">/etc/init</code><code class="plain">.d</code><code class="plain">/slapd</code><code class="plain"> restart</code></div>
<div class="line"><code class="plain">- </code><code class="string">'ps -ef|grep slap'</code><code class="plain"> </code></div>
<div class="line"><code class="plain">  should show a slapd running</code></div>
<div class="line"><code class="plain">- ldapsearch -x -b </code><code class="string">'dc=primekey,dc=se'</code><code class="plain"> </code><code class="string">'(objectclass=*)'</code></div>
<div class="line"><code class="plain">  </code></div>
<div class="line"><code class="plain">To </code><code class="functions">look</code><code class="plain"> at the results</code></div>
<div class="line"><code class="plain">- slapcat -l backup.ldif</code></div>
<div class="line"><code class="plain">  </code></div>
<div class="line"><code class="plain">Make backup</code></div>
<div class="line"><code class="plain">- slapadd -l backup.ldif</code></div>
<div class="line"><code class="plain">- </code><code class="plain">/etc/init</code><code class="plain">.d</code><code class="plain">/slapd</code><code class="plain"> restart</code></div>
<div class="line"><code class="plain">  </code></div>
<div class="line"><code class="plain">Restore backup</code></div>
</div>
    </div>
    <p  >Run the following command to add new LDAP nodes:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">- ldapadd -x -D </code><code class="string">"cn=admin,dc=PrimeKey,dc=com"</code><code class="plain"> -W -f primekey.ldif</code></div>
<div class="line"><code class="plain">  where primekey.ldif is:</code></div>
<div class="line"></div>
<div class="line"><code class="plain">dn: </code><code class="functions">dc</code><code class="plain">=PrimeKey,</code><code class="functions">dc</code><code class="plain">=com</code></div>
<div class="line"><code class="functions">dc</code><code class="plain">: PrimeKey</code></div>
<div class="line"><code class="plain">objectclass: dcObject</code></div>
<div class="line"><code class="plain">objectclass: organization</code></div>
<div class="line"><code class="plain">o: PrimeKey Solutions AB</code></div>
<div class="line"><code class="plain">description: Parent Object </code><code class="keyword">for</code><code class="plain"> PrimeKey LDAP Directory</code></div>
<div class="line"></div>
<div class="line"><code class="plain">dn: ou=Standard,</code><code class="functions">dc</code><code class="plain">=PrimeKey,</code><code class="functions">dc</code><code class="plain">=com</code></div>
<div class="line"><code class="plain">ou: Standard</code></div>
<div class="line"><code class="plain">objectClass: </code><code class="functions">top</code></div>
<div class="line"><code class="plain">objectClass: organizationalUnit</code></div>
<div class="line"><code class="plain">description: Parent Object </code><code class="keyword">for</code><code class="plain"> all Standard Certificates</code></div>
<div class="line"></div>
<div class="line"><code class="plain">dn: ou=High,</code><code class="functions">dc</code><code class="plain">=PrimeKey,</code><code class="functions">dc</code><code class="plain">=com</code></div>
<div class="line"><code class="plain">ou: High</code></div>
<div class="line"><code class="plain">objectClass: </code><code class="functions">top</code></div>
<div class="line"><code class="plain">objectClass: organizationalUnit</code></div>
<div class="line"><code class="plain">description: Parent Object </code><code class="keyword">for</code><code class="plain"> all High Certificates</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-16224381_id-.LDAPandPublishersv6.12.0-OpenDJOpenDJ">
        <h1 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-OpenDJ" class="confluence-anchor-link"></span><span>OpenDJ </span></h1>
    <p  ><a  class="external-link" href="http://opendj.forgerock.org/">OpenDJ</a> is a modern, standards compliant, java based, LDAP server that is easy to set up and use. It also comes with GUI tools to manage and query.    </p>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-InstallingOpenDJInstalling_OpenDJ">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Installing_OpenDJ" class="confluence-anchor-link"></span><span>Installing OpenDJ </span></h2>
    <p  >This example uses OpenDJ 2.5.0 as an example, but other versions should worksimilarly.    </p>
<ul class=" "><li class=" ">    <p  >unzip OpenDJ-2.5.0-Xpress1.zipthe Control Panel    </p>
</li><li class=" ">    <p  >cd OpenDJ-2.5.0-Xpress1    </p>
</li><li class=" ">    <p  >./setup    </p>
<ul class=" "><li class=" ">    <p  >This launches graphical setup, you can run <strong class=" ">setup --cli</strong> to install without GUI.    </p>
</li><li class=" ">    <p  >Use default Root User DN: cn=Directory Manager    </p>
</li><li class=" ">    <p  >Directory Base DN: dc=example,dc=com)    </p>
</li><li class=" ">    <p  >If you want to be able to run OpenDJ on the same server as JBoss/EJBCA, choose another port for management, i.e. 5555 instead of 4444.    </p>
</li></ul></li><li class=" ">    <p  >You can end by starting Launch Control Panel, or you can start it later with bin/control-panel.    </p>
</li></ul>    <p  >An EJBCA publisher for a default installation is then configured with:    </p>
<ul class=" "><li class=" ">    <p  >Base DN: dc=example,dc=com    </p>
</li><li class=" ">    <p  >Administrator: cn=Directory Manager    </p>
</li></ul>    <p  >The graphical LDAP browser is accessible from the <strong class=" ">Control Panel &gt; Manage Entries</strong>. You can start/stop OpenDJ from within the Control Panel or with bin/start-ds and stop-ds.    </p>
    <p  >Management tasks such as creating new attributes and object types easy to do in the Control Panel GUI.    </p>
    <p  >OpenDJ listens to port 1389 by default, but it also occupies other ports stopping it from running on the same server as JBoss. If you want to change the management port (default 4444) after installation you can edit confif/config.ldif and config/tools.properties.    </p>
    </div>
    <div class="section section-2" id="src-16224381_safe-id-aWQtLkxEQVBhbmRQdWJsaXNoZXJzdjYuMTIuMC1Db25maWd1cmVTU0wvVExTQ29uZmlndXJlX1NTTC9UTFM">
        <h2 class="heading "><span id="src-16224381_safe-id-aWQtLkxEQVBhbmRQdWJsaXNoZXJzdjYuMTIuMC1Db25maWd1cmVfU1NML1RMUw" class="confluence-anchor-link"></span><span>Configure SSL/TLS </span></h2>
    <p  >For information on configuring SSL/TLS with OpenDJ, refer to <a  class="external-link" href="http://opendj.forgerock.org/doc/admin-guide/index/chap-listeners.html">OpenDJ documentation</a>.    </p>
    <p  >If you run setup using the command line (--cli) you will be prompted with TLS questions, having the possibility to set up TLS directly.    </p>
    </div>
    </div>
    <div class="section section-1" id="src-16224381_id-.LDAPandPublishersv6.12.0-CustomSchemasCustom_schemas">
        <h1 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Custom_schemas" class="confluence-anchor-link"></span><span>Custom Schemas </span></h1>
    <p  >See doc/ldapschema for files with custom schemas and attribute types to add to your LDAP schema.    </p>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-CertificateSerialNumberCertificate_serial_number">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Certificate_serial_number" class="confluence-anchor-link"></span><span>Certificate Serial Number </span></h2>
    <p  >This is an attribute and a schema extension to allow storage of certificate serial number in the inetOrgPerson LDAP object, for end user entries. This is done by adding an extension to inetOrgPerson called inetOrgPersonWithCertSerno with a new optional attribute called certificateSerialNumber.    </p>
    <p  >Once you have installed the new schema in the LDAP server you use it by configuring the LDAP publisher with:    </p>
<ul class=" "><li class=" ">    <p  >User Object Class: top;person;organizationalPerson;inetOrgPerson;inetOrgPersonWithCertSerno    </p>
</li></ul>    <p  >instead of the befault value:    </p>
<ul class=" "><li class=" ">    <p  >User Object Class: top;person;organizationalPerson;inetOrgPerson    </p>
</li></ul>    <p  >The certificateSerialNumber attribute will then automatically be added/modified when publishing to LDAP.    </p>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-ExtraDeviceSchemaExtra_device_schema">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Extra_device_schema" class="confluence-anchor-link"></span><span>Extra Device Schema </span></h2>
    <p  >To store certificates for devices (e.g. routers, toasters etc) in LDAP it is no really suitable standard object class. inetOrgPerson requires surnames etc, and the device objectclass does not include a certificate attribute.    </p>
    <p  >Mike Jackson has kindly contributed additional objects that extend the standard device class with a certificate attribute. The ejbcaDevice uses object ids from PrimeKey Solutions AB.    </p>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-InstallationInstallation">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Installation" class="confluence-anchor-link"></span><span>Installation </span></h2>
    <p  >For the Netscape/SUN servers, on UNIX, copy the 85ejbca.ldif file into:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">/usr/netscape/servers/slapd-hostname/config/schema/</code></div>
</div>
    </div>
    <p  >and restart the LDAP server.    </p>
    <p  >For OpenLDAP, copy the ejbca.schema file into, e.g.:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">/etc/ldap/schema/</code></div>
</div>
    </div>
    <p  >and edit slapd.conf to add the following line:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">include </code><code class="plain">/etc/ldap/schema/ejbca</code><code class="plain">.schema</code></div>
</div>
    </div>
    <p  >then restart the server.    </p>
    </div>
    </div>
    <div class="section section-1" id="src-16224381_id-.LDAPandPublishersv6.12.0-CustomPublishersCustom_publishers">
        <h1 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Custom_publishers" class="confluence-anchor-link"></span><span>Custom Publishers </span></h1>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-DevelopingaCustomPublisherDeveloping_a_custom_publisher">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Developing_a_custom_publisher" class="confluence-anchor-link"></span><span>Developing a Custom Publisher </span></h2>
    <p  >If your setup makes it very complex to configure multiple certificate profiles and multiple publishers you might consider writing a custom publisher that handles things directly according to your needs.    </p>
    <p  >Look in the directory modules/ejbca-common/src/org/ejbca/core/model/ca/publishers for more information about writing your own solution. There is an empty custom publisher called DummyCustomPublisher.java that can be extended. Custom publishers are deployed in the same way as <a   href="Services.html#src-16224407_id-.Servicesv6.12.0-Writing_Customized_Services">custom services</a>, i.e. in a Jar with a special meta-data file. For example:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain"># Example file. Should be named META-INF/services/org.ejbca.core.model.ca.publisher.ICustomPublisher</code></div>
<div class="line"><code class="plain">com.example.ejbca.MyCustomPublisher</code></div>
<div class="line"><code class="plain">com.example.ejbca.AnotherCustomPublisher</code></div>
</div>
    </div>
    <p  >Additionally you can have your publisher implement org.ejbca.core.model.ca.publisher.CustomPublisherUiSupport to make the configuration more user-friendly in the AdminGUI.    </p>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-PublishingwithanExternalApplicationPublishing_with_an_external_application">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Publishing_with_an_external_application" class="confluence-anchor-link"></span><span>Publishing with an External Application </span></h2>
    <p  >A lightweight alternative to developing a new custom publisher for exporting CRLs, certificates and revokations is to use the General Purpose Custom Publisher (GPCP). This makes it possible to export DER-encoded CRLs, certificates and/or revokations with a simple script (using scp or similar). The GPCP creates a temporary file and executes the script with the full pathname to the temporary file as an argument.    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >To be able to view and edit the General Purpose Custom Publisher (GPCP), access to external scripts must be enabled by activating <strong class=" ">Enable External Script Access</strong> under <strong class=" ">System Configuration&gt;External Scripts</strong>. For more information, see <a   href="External_Scripts.html">External Scripts</a>.    </p>
        </div>
    </div>
    <p  >It is possible to let the publisher ignore an error in the execution of a script by altering the publishers properties. By default, the publisher detects both output to standard error and a non-zero errorlevel set by the script.    </p>
    <p  >To start using the GPCP, select <strong class=" ">Edit Publishers</strong> in the Administration GUI. Add a publisher <strong class=" ">GPCP</strong> and then <strong class=" ">Edit</strong> the same. Choose    </p>
<ul class=" "><li class=" ">    <p  ><strong class=" ">Publisher type</strong>: General Purpose Custom Publisher    </p>
</li><li class=" ">    <p  ><strong class=" ">Properties</strong>:    </p>
<ul class=" "><li class=" ">    <p  >Full pathname of X publishing script: For example <tt class=" ">/fullpathname/exportscript.sh</tt> for Unix/Linux or <tt class=" ">C:/fullpathname/exportscript.bat</tt> on MS Windows.    </p>
</li><li class=" ">    <p  >Fail X publishing on script error code: Will treat the publishing as unsuccessful if the script returns with a non-zero error code.    </p>
</li><li class=" ">    <p  >Fail X publishing on output to stderr: Will treat the publishing as unsuccessful if the script writes anything to standard error.    </p>
</li><li class=" ">    <p  >Calculate Delta CRL locally: Described below.    </p>
</li></ul></li></ul>    <p  >and click <strong class=" ">Save and Test Connection</strong> to save the entered information and validate that the specified applications exist. Select <strong class=" ">Certificate Authorities</strong> in the Administration GUI and select <strong class=" ">GPCP</strong> as your new CRL publisher. Click <strong class=" ">Save</strong>.    </p>
<ul class=" "><li class=" ">    <p  >Test CRL publishing by selecting <strong class=" ">Basic Functions</strong> in the Administration GUI and click <strong class=" ">Create CRL</strong>.    </p>
</li><li class=" ">    <p  >Test certificate publishing by selecting <strong class=" ">Certificate Authorities</strong> in the Administration GUI, select a CA, click <strong class=" ">Edit</strong> and then <strong class=" ">Republish CA Certificates</strong>.    </p>
</li></ul>    <p  >More advanced scripts or applications have the ability to use the additional argument    </p>
<ul class=" "><li class=" ">    <p  >cert.application fulltempfilepathname x509type certificateDN issuerDN certHexSerialNumber    </p>
</li><li class=" ">    <p  >revoke.application fulltempfilepathname x509reason certificateDN issuerDN certHexSerialNumber    </p>
</li></ul>    <p  >Depending on application, the GeneralPurposeCustomPublisher can calculate whether a CRL is a delta CRL. Set the parameter crl.calclulateDeltaCrlLocally to true in order to do this, or false if you wish to check this in an external script (or not at all). The result of this check, if run, will be last in the argument list to the script.    </p>
    <p  >An example Linux script for certificate publishing could look like:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="comments">#!/usr/bin/env bash</code></div>
<div class="line"></div>
<div class="line"><code class="functions">echo</code><code class="plain"> $* &gt;&gt; </code><code class="plain">/home/user/publisherlog</code><code class="plain">.txt</code></div>
<div class="line"></div>
<div class="line"><code class="functions">cp</code><code class="plain"> $1 </code><code class="plain">/home/user/cert</code><code class="plain">.crt</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-PublisherforSamplingofIssuedCertificatesPublisher_for_sampling_of_issued_certifi">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Publisher_for_sampling_of_issued_certifi" class="confluence-anchor-link"></span><span>Publisher for Sampling of Issued Certificates </span></h2>
    <p  >One custom publisher called CertificateSamplerCustomerPublisher can be used to store published certificates to a configured directory. Different sampling methods can be specified per certificate profile, either storing every certificate, no certificate or randomly with a configured probability.    </p>
    <p  >To use the CertificateSamplerCustomerPublisher, select <strong class=" ">Edit Publishers</strong> in the Administration GUI, create a new publisher and edit it.    </p>
<ul class=" "><li class=" ">    <p  >Publisher type: Custom Publisher    </p>
</li><li class=" ">    <p  >Class Path: org.ejbca.core.model.ca.publisher.CertificateSamplerCustomPublisher    </p>
</li><li class=" ">    <p  >Properties of Custom Publisher:    </p>
</li></ul>    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">outputfolder=/tmp/sampledcertificates/</code></div>
<div class="line"><code class="plain">default.samplingmethod=SAMPLE_ALL</code></div>
<div class="line"><code class="plain">profileid.2234644354.samplingmethod=SAMPLE_NONE</code></div>
<div class="line"><code class="plain">profileid.1645141026.samplingmethod=SAMPLE_PROBABILISTIC</code></div>
<div class="line"><code class="plain">profileid.1645141026.pvalue=0.25</code></div>
</div>
    </div>
    <p  >and click <strong class=" ">Save and Test Connection</strong> to save the entered information and validate that the entered configuration is correct. Select the publisher in the relevant certificate profiles.    </p>
    <p  >In the example above the certificate profile with id 2234644354 will not have any certificates stored. The profile with id 1645141026 will have about 25% of the certificates stored and for all other profiles all certificates will be sampled.    </p>
    </div>
    <div class="section section-2" id="src-16224381_id-.LDAPandPublishersv6.12.0-CustomerSpecificPublisherforaPKD-likecatalogCustomer_Specific_Publisher_for_a_PKD-li">
        <h2 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Customer_Specific_Publisher_for_a_PKD-li" class="confluence-anchor-link"></span><span>Customer Specific Publisher for a PKD-like catalog </span></h2>
    <p  >The CustomerLdapPublisher1 publishes end entity (Document Signer) certificates and (CSCA) CRLs according to a customer specific schema based on the schema defined by ICAO for uploading to the PKD but with some customer-specific extensions added.    </p>
    <p  >Extra attributes are added including checksums of the uploaded objects as well as a feature for putting some log entries in the catalog.    </p>
    <p  >To use the CustomerLdapPublisher1 select <strong class=" ">Edit Publishers</strong> in the Administration GUI, create a new publisher and edit it.    </p>
<ul class=" "><li class=" ">    <p  ><strong class=" ">Publisher type</strong>: Custom Publisher    </p>
</li><li class=" ">    <p  ><strong class=" ">Class Path</strong>: - Specify class path manually -org.ejbca.core.model.ca.publisher.custpubl1.CustomerLdapPublisher1    </p>
</li><li class=" ">    <p  ><strong class=" ">Properties of Custom Publisher</strong>:    </p>
</li></ul>    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">hostnames=localhost</code></div>
<div class="line"><code class="plain">port=1636</code></div>
<div class="line"><code class="plain">basedn=dc=example,dc=com</code></div>
<div class="line"><code class="plain">logindn=cn=Directory Manager</code></div>
<div class="line"><code class="plain">loginpassword=foo123</code></div>
<div class="line"><code class="plain">usessl=true</code></div>
<div class="line"></div>
<div class="line"><code class="plain"># Optional properties:</code></div>
<div class="line"><code class="plain">logconnectiontests=true</code></div>
<div class="line"><code class="plain">connectiontimeout=5000</code></div>
<div class="line"><code class="plain">readtimeout=30000</code></div>
<div class="line"><code class="plain">storetimeout=60000</code></div>
</div>
    </div>
    <p  >Click <strong class=" ">Save and Test Connection</strong> to save the entered information and validate that the entered configuration is correct. Select the publisher in the DS certificate profiles and the CSCA.    </p>
    <p  >In the example above logconnectiontests equals true which means that a click on the <strong class=" ">Save and test connection</strong> button will cause an log entry to be added to the catalog. Notice that in this case if health check checks the publishers an log entry will also be inserted for every health check run.    </p>
    </div>
    <div class="section section-2" id="src-16224381_safe-id-aWQtLkxEQVBhbmRQdWJsaXNoZXJzdjYuMTIuMC1DZXJ0U2FmZXB1Ymxpc2hlcmZvcmFIVFRQU3NlcnZlcihFbnRlcnByaXNlb25seSlDZXJ0X1NhZmVfcHVibGlzaGVyX2Zvcl9hX0hUVFBTX3NlcnZlcl8o">
        <h2 class="heading "><span id="src-16224381_safe-id-aWQtLkxEQVBhbmRQdWJsaXNoZXJzdjYuMTIuMC1DZXJ0X1NhZmVfcHVibGlzaGVyX2Zvcl9hX0hUVFBTX3NlcnZlcl8o" class="confluence-anchor-link"></span><span>Cert Safe publisher for a HTTPS server (Enterprise only) </span></h2>
    <p  >The CertSafePublisher publishes certificate issuance and life cycle events (revoke and unrevoke) to a HTTPS server. The HTTPS request body is a JSON object with the fields: <strong class=" ">status</strong>, <strong class=" ">revocationReason</strong> and <strong class=" ">pem.</strong>    </p>
    <div class="page-break" />    <p  >Example of the JSON object:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{                                                                       </code></div>
<div class="line"><code class="plain">	"status": "revoked",                                              </code></div>
<div class="line"><code class="plain">	"revocationReason": "keyComprimise",                             </code></div>
<div class="line"><code class="plain">	"pem": "-----BEGIN CERTIFICATE-----\n                             </code></div>
<div class="line"><code class="plain">	MIIDWTCCAkGgAwIBAgIIAZmQ+6dVVfgwDQYJKoZIhvcNAQEFBQAwOzEVMBMGA1UE\n</code></div>
<div class="line"><code class="plain">	AwwMTWFuYWdlbWVudENBMRUwEwYDVQQKDAxFSkJDQSBTYW1wbGUxCzAJBgNVBAYT\n</code></div>
<div class="line"><code class="plain">    	AlNFMB4XDTE0MDMwNDEwNTEyM1oXDTE2MDMwMzEwNTEyM1owETEPMA0GA1UEAwwG\n</code></div>
<div class="line"><code class="plain">	c3NsZm9vMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2nqbOm3ocTTm\n</code></div>
<div class="line"><code class="plain">    	jU49UgP7ugnhg427zHaPdJjWuMt1ZopVzF/46EEsHIfxyGL59J3otgMEXXBJgJwC\n</code></div>
<div class="line"><code class="plain">    	QuZgtqfByAgKIWvrgcxBhvkCe6NRjNAJv0DPaxsEJRqpQEFxV3Eo24eOpN+mxWIm\n</code></div>
<div class="line"><code class="plain">    	6h3N3vTgaaDBQTQMvcb3MndJDWte4+HoBwMtuJdfRapIjcCIkyfiNJKkS4NMvYGw\n</code></div>
<div class="line"><code class="plain">    	G+lrReq4Za0Qhyqejjf4BB+QdE7xetZAtck9HAUlM28/zUuilPNeyftK7lR1Qcyp\n</code></div>
<div class="line"><code class="plain">    	MxIYo6YI2mDbSDre7pr21srZB5lBdOP3dAb5B5MFZ7d4qqljygEb0HuUXedqu4pj\n</code></div>
<div class="line"><code class="plain">    	8e4VNtv7EwIDAQABo4GKMIGHMB0GA1UdDgQWBBR3QlV5l7AvnfNN7D6sILhjMNHs\n</code></div>
<div class="line"><code class="plain">    	LTAMBgNVHRMBAf8EAjAAMB8GA1UdIwQYMBaAFMIAelgt0T0LdOBNNFKBKb5rcu4V\n</code></div>
<div class="line"><code class="plain">    	MA4GA1UdDwEB/wQEAwIF4DAnBgNVHSUEIDAeBggrBgEFBQcDAQYIKwYBBQUHAwIG\n</code></div>
<div class="line"><code class="plain">    	CCsGAQUFBwMEMA0GCSqGSIb3DQEBBQUAA4IBAQADfEI0DgJVBHe63YCC8AhLo+VX\n</code></div>
<div class="line"><code class="plain">    	Fudi97WmCJGfHMx42HaaQvHtIvvpCw8TUZ08k49gUv+qtRlznaKFQb02DjbWgyeY\n</code></div>
<div class="line"><code class="plain">    	TKuCwueiXhMIb7i4Af1+cMFrajBGOYrjYkbGGOwfyN8KcOrQxQk30vBf47DGRtX8\n</code></div>
<div class="line"><code class="plain">    	80fV12f1NWng1KD3ye7VcTnFQTkbwvZAT2aDQorqND8c7Pn8dEpPNnpP67EsLIvH\n</code></div>
<div class="line"><code class="plain">    	biLb4qeaMa0pr21cE2LMV7ZhdyNbziiITB2oNsrdLIcKeTGKqmGSLDec6N0DPnmb\n</code></div>
<div class="line"><code class="plain">    	NlJNaBcs77G2JSJfh908HEtaVqH+u5cKElV3pRSBbS9Z6DcAlwaC64G6tKs0\n    </code></div>
<div class="line"><code class="plain">    	-----END CERTIFICATE-----"                                        </code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <p  >The <strong class=" ">revocationReason</strong> is optional.    </p>
    <p  >To use the Cert Safe Publisher, select <strong class=" ">Edit Publishers</strong> in the Administration GUI, create a new publisher and edit it.    </p>
<ul class=" "><li class=" ">    <p  ><strong class=" ">Publisher type</strong>: CertSafe Publisher    </p>
</li><li class=" ">    <p  ><strong class=" ">Class Path</strong> (not editable): org.ejbca.core.model.ca.publisher.CertSafePublisher    </p>
</li><li class=" ">    <p  >Properties of the publisher:    </p>
<ul class=" "><li class=" ">    <p  ><strong class=" ">CertSafe Server URL</strong>: https://HOST:PORT/RELATIVE_PATH, for example https://certsafe.host.domain/PrimeKey/certificates.    </p>
</li><li class=" ">    <p  ><strong class=" ">Authentication Key Binding for Connection</strong>: Name of the Authentication Key Binding used to authenticate (TLS) against the CertSafe server.    </p>
</li><li class=" ">    <p  ><strong class=" ">HTTPS connection timeout: connection timeout</strong> (default 10s)    </p>
</li></ul></li></ul>    <p  >An Authentication Key Binding token should be created to specify the parameters used to establish connection with the HTTPS server. For instructions on how to create an Authentication Key Binding, see <a   href="Managing_Internal_Key_Bindings.html">Managing Internal Key Bindings</a>    </p>
    <p  >Click<strong class=" "> Save and Test Connection</strong> to save the entered information and validate that the entered configuration is correct. Select the publisher in the certificate profiles.    </p>
    <p  >If an error occurs in the server, EJBCA can expect an error message sent inside a JSON object with the keyword <strong class=" ">error</strong>. The error message will be visible in the log file.    </p>
    <p  >Example of the error JSON object:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code">
<div class="line"><code class="plain">{                                                                       </code></div>
<div class="line"><code class="plain">	"error": "An error message from the server.",                                              </code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <p  >In order to avoid that certificates go missing in the CertSafe server if publishing fails (network down etc), it's recommended to configure a Publish Queue process service, as described below. For more information and full specification, refer to <a  class="external-link" href="https://jira.primekey.se/browse/ECA-3437">ECA-3437</a>.    </p>
    </div>
    </div>
    <div class="section section-1" id="src-16224381_id-.LDAPandPublishersv6.12.0-PublisherQueueandFailuresPublisher_Queue_and_Failures">
        <h1 class="heading "><span id="src-16224381_id-.LDAPandPublishersv6.12.0-Publisher_Queue_and_Failures" class="confluence-anchor-link"></span><span>Publisher Queue and Failures </span></h1>
    <p  >To achieve robust publishing there is a publisher queue. When a publisher fails the published data is stored in a separate table in the database, the PublisherQueueData. This queue can then be processed by a service (see <i class=" ">Publisher Queue Process Service</i> in the <a   href="Services.html">Services</a> section).    </p>
    <p  >Publishers can also be configured not to publish directly at all, but to store everything in the queue, which is later processed. The benefit of this approach is that publishing is instant. When issuing certificates the CA does not have to wait for all publishers to finish. If there are many publishers this might delay the issuing process slightly.    </p>
    <p  >Publisher Settings:    </p>
<ul class=" "><li class=" ">    <p  ><strong class=" ">Current length</strong>: displays the number of new entries in the queue in the intervals &lt;1 min, 1-10 min, 10-60 min and &gt;60 min.    </p>
</li><li class=" ">    <p  ><strong class=" ">No direct publishing, only use queue</strong>: when enabled, the publisher does not try to publish directly but instead pushes the update to the queue for later processing by a Publish Queue Process Service.    </p>
</li><li class=" ">    <p  ><strong class=" ">Keep successfully published items in database</strong>: when enabled items stored in the publisher queue will not be removed when real publishing has been done, status will merely be changed from PENDING to SUCCESS.    </p>
</li><li class=" ">    <p  ><strong class=" ">Use queue for CRLs</strong>: determines if the publisher queue should handle CRLs or not for this publisher.    </p>
</li><li class=" ">    <p  ><strong class=" ">Use queue for certificates</strong>: determines if the publisher queue should handle certificates or not for this publisher.    </p>
</li></ul>    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Post_Processing_Validators.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Post Processing Validators</span>
        </a>
                <a href="Internationalization.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Internationalization</span>
        </a>
    </nav>    
            
            <article id="html-search-results" class="ht-content" style="display: none;">
            <header class="ht-content-header">
                <div id="ht-spacetitle">
                    <ul>
                        <li><a href="EJBCA_-_Documentation.html">EJBCA - Documentation Space</a></li>
                    </ul>
                </div>
                <h1>Search results</h1>
            </header>
            <div id="search-results"></div>
        </article>
    
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

</body>
</html>
